(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-adb26494"],{"05b1":function(t,e,n){"use strict";n("896b")},2824:function(t,e,n){"use strict";var i=n("7a23"),a=Object(i["R"])("data-v-db94fb96");Object(i["A"])("data-v-db94fb96");var c={class:"container"},o={style:{width:"100%"}},s={class:"subtitle"},l={class:"extra"};Object(i["y"])();var r=a((function(t,e,n,r,u,d){var b=Object(i["F"])("van-icon"),f=Object(i["F"])("van-nav-bar"),h=Object(i["F"])("van-sticky"),j=Object(i["F"])("van-col"),O=Object(i["F"])("van-row");return Object(i["x"])(),Object(i["f"])("div",c,[Object(i["P"])(Object(i["i"])(h,{onChange:e[2]||(e[2]=function(t){return r.state.isTop=!r.state.isTop})},{default:a((function(){return[Object(i["i"])(f,{class:["navbar",{notTop:!r.state.isTop,noTitle:n.notitle}],border:!1,onClickLeft:d.onClickLeft,onClickRight:e[1]||(e[1]=function(e){return t.$emit("click-more")})},{left:a((function(){return[Object(i["P"])(Object(i["i"])("div",null,[Object(i["E"])(t.$slots,"back",{},(function(){return[Object(i["i"])(b,{name:"arrow-left",size:"large"})]}),{},!0)],512),[[i["M"],!n.noback]])]})),title:a((function(){return[Object(i["i"])("div",o,[Object(i["E"])(t.$slots,"tool",{},(function(){return[Object(i["h"])(Object(i["J"])(r.state.isTop?"":n.title),1)]}),{},!0)])]})),right:a((function(){return[Object(i["E"])(t.$slots,"more",{},void 0,!0)]})),_:1},8,["class","onClickLeft"])]})),_:1},512),[[i["M"],!n.nonavbar]]),Object(i["i"])("div",{class:["page",{notTop:!r.state.isTop,noNavbar:n.nonavbar,noTitle:n.notitle,hasBar:t.$store.state.showTabbar}],style:{background:n.bg}},[Object(i["i"])(i["c"],{name:"van-slide-down"},{default:a((function(){return[Object(i["P"])(Object(i["i"])(O,{justify:"space-between",align:"center",class:"head",style:{height:n.height+"px",color:n.fg}},{default:a((function(){return[Object(i["i"])(j,{span:"16"},{default:a((function(){return[Object(i["i"])("div",{class:"title",style:{color:n.fg},onClick:e[3]||(e[3]=function(e){return t.$emit("click-title")})},[Object(i["h"])(Object(i["J"])(n.title)+" ",1),Object(i["i"])("div",s,Object(i["J"])(n.subtitle),1)],4)]})),_:1}),Object(i["i"])(j,{span:"8"},{default:a((function(){return[Object(i["i"])("div",l,[Object(i["E"])(t.$slots,"extra",{},void 0,!0)])]})),_:3})]})),_:1},8,["style"]),[[i["M"],r.state.isTop&&!n.nonavbar&&!n.notitle]])]})),_:1}),Object(i["E"])(t.$slots,"default",{},void 0,!0)],6)])})),u={props:{nonavbar:{type:Boolean,default:!1},notitle:{type:Boolean,default:!1},noback:{type:Boolean,default:!1},title:String,subtitle:String,height:String,bg:String,fg:String},setup:function(){var t=Object(i["B"])({isTop:!0});return{state:t}},methods:{onClickLeft:function(){return"function"==typeof this.$slots.back?this.$emit("click-back"):(console.log("<<< BACK"),this.$router.back())}}};n("b637");u.render=r,u.__scopeId="data-v-db94fb96";e["a"]=u},"896b":function(t,e,n){},"8eb5":function(t,e,n){},b637:function(t,e,n){"use strict";n("8eb5")},fae6:function(t,e,n){"use strict";n.r(e);n("b0c0");var i=n("7a23"),a=Object(i["R"])("data-v-60b114ae");Object(i["A"])("data-v-60b114ae");var c=Object(i["h"])("充值记录"),o={class:"recharge"},s={class:"panel"},l={class:"face"},r={class:"price"},u={class:"form"},d=Object(i["h"])("立即充值"),b={class:"intro"};Object(i["y"])();var f=a((function(t,e,n,f,h,j){var O=Object(i["F"])("van-button"),g=Object(i["F"])("van-sidebar-item"),v=Object(i["F"])("van-sidebar"),p=Object(i["F"])("van-empty"),m=Object(i["F"])("van-icon"),k=Object(i["F"])("van-cell"),y=Object(i["F"])("van-field"),F=Object(i["F"])("van-action-sheet"),C=Object(i["F"])("van-tag"),_=Object(i["F"])("van-list"),w=Object(i["F"])("van-pull-refresh"),x=Object(i["F"])("BaseLayout");return Object(i["x"])(),Object(i["f"])(x,{title:"充值中心",bg:"linear-gradient(180deg, #EEE, #F9F9F9 10%, #FFF 50%, #FFF)"},{extra:a((function(){return[Object(i["i"])(O,{icon:"todo-list-o",style:{width:"110px",borderRadius:"10px 0 0 10px",color:"#000"},color:"#F6F6F6",onClick:j.onRefresh},{default:a((function(){return[c]})),_:1},8,["onClick"])]})),default:a((function(){return[Object(i["i"])("div",o,[Object(i["i"])(v,{class:"sidebar",modelValue:h.state.active,"onUpdate:modelValue":e[1]||(e[1]=function(t){return h.state.active=t}),onChange:j.onChange},{default:a((function(){return[(Object(i["x"])(!0),Object(i["f"])(i["a"],null,Object(i["D"])(h.state.cats,(function(e,n){return Object(i["P"])((Object(i["x"])(),Object(i["f"])(g,{key:n,title:e.name},null,8,["title"])),[[i["M"],e.id>0||1==t.uid]])})),128))]})),_:1},8,["modelValue","onChange"]),Object(i["i"])("div",s,[Object(i["P"])(Object(i["i"])(p,{description:"暂无项目"},null,512),[[i["M"],0==h.state.goods.length]]),(Object(i["x"])(!0),Object(i["f"])(i["a"],null,Object(i["D"])(h.state.goods,(function(t,e){return Object(i["x"])(),Object(i["f"])(k,{class:["goods",{active:h.state.id==t.id}],key:e,title:t.title,onClick:function(e){return j.onChoose(t)}},{icon:a((function(){return[Object(i["i"])(m,{name:"//cdn.fuchijihua.com/assets/img/digital/"+t.brand+".png",class:"icon"},null,8,["name"])]})),label:a((function(){return[Object(i["i"])("div",l,"￥"+Object(i["J"])(t.face_value),1),Object(i["i"])("div",r,"售价：￥"+Object(i["J"])(t.price),1)]})),_:2},1032,["title","class","onClick"])})),128))])]),Object(i["i"])(F,{show:h.state.id,"onUpdate:show":e[3]||(e[3]=function(t){return h.state.id=t}),title:h.state.title},{default:a((function(){return[Object(i["i"])("div",u,[Object(i["i"])(y,{class:"account",type:"text",modelValue:h.state.account,"onUpdate:modelValue":e[2]||(e[2]=function(t){return h.state.account=t}),placeholder:"充值账号"},null,8,["modelValue"]),Object(i["i"])(O,{class:"submit",type:"danger",block:"",disabled:!j.valid,onClick:j.onRecharge},{default:a((function(){return[d]})),_:1},8,["disabled","onClick"])]),Object(i["i"])("div",b,Object(i["J"])(h.state.intro),1)]})),_:1},8,["show","title"]),Object(i["i"])(F,{show:h.state.record,"onUpdate:show":e[6]||(e[6]=function(t){return h.state.record=t}),title:"充值记录（可下拉刷新）"},{default:a((function(){return[Object(i["i"])(w,{modelValue:h.state.refreshing,"onUpdate:modelValue":e[5]||(e[5]=function(t){return h.state.refreshing=t}),onRefresh:j.onRefresh},{default:a((function(){return[Object(i["i"])(_,{class:"list",loading:h.state.loading,"onUpdate:loading":e[4]||(e[4]=function(t){return h.state.loading=t}),finished:h.state.finished,"loading-text":"正在请求数据 ...","finished-text":"没有更多了","immediate-check":!1,onLoad:j.onLoad},{default:a((function(){return[(Object(i["x"])(!0),Object(i["f"])(i["a"],null,Object(i["D"])(h.state.list,(function(e,n){return Object(i["x"])(),Object(i["f"])("div",{key:n},[Object(i["i"])(C,{class:"dt"},{default:a((function(){return[Object(i["h"])(Object(i["J"])(e.dt),1)]})),_:2},1024),Object(i["i"])(k,{class:"item",title:e.detail.title,label:j.getDetail(e),onClick:function(n){return t.$copy(e.id+"/"+e.fgid+"/"+e.foid)}},{extra:a((function(){return[Object(i["h"])(" ￥"+Object(i["J"])(e.amount)+" ",1),Object(i["i"])(m,{class:"status",name:j.getStyle(e).name,color:j.getStyle(e).color},null,8,["name","color"])]})),_:2},1032,["title","label","onClick"])])})),128)),Object(i["P"])(Object(i["i"])(p,{style:{width:"100%"}},null,512),[[i["M"],0==h.state.list.length]])]})),_:1},8,["loading","finished","onLoad"])]})),_:1},8,["modelValue","onRefresh"])]})),_:1},8,["show"])]})),_:1})})),h=n("5530"),j=n("5502"),O=n("2824"),g={components:{BaseLayout:O["a"]},data:function(){var t=Object(i["B"])({record:!1,cats:[],goods:[],title:"",intro:"",id:0,account:"",refreshing:!1,loading:!1,finished:!1,grid:!0,list:[],offset:0,limit:20});return{state:t}},created:function(){var t=this;this.$http.get("/digital/category").then((function(e){t.state.cats=e,t.onChange(0)}))},computed:Object(h["a"])({valid:function(){return this.state.id>0&&this.state.account.length>0}},Object(j["b"])(["uid"])),methods:{onChange:function(t){var e=this;this.state.id=0,this.state.intro="",this.$http.post("/digital/list?cid="+this.state.cats[t].id).then((function(t){e.state.goods=t}))},onChoose:function(t){this.state.id=t.id,this.state.title=t.title,this.state.intro=t.intro},onRecharge:function(){var t=this;this.$http.post("/digital/recharge?id="+this.state.id+"&account="+this.state.account).then((function(e){t.state.id=0,t.$dialog.alert({title:"订单已生成",message:"请点击右上角“充值记录”查看到账情况",theme:"round-button"})}))},onRefresh:function(){this.state.record=!0,this.state.loading=!0,this.state.finished=!1,this.state.offset=0,this.state.list=[],this.onLoad()},onLoad:function(){var t=this;this.$http.get("/digital/order?offset="+this.state.offset+"&limit="+this.state.limit).then((function(e){for(var n in t.state.refreshing=!1,(0==e.length||e.length<t.state.limit)&&(t.state.finished=!0),t.state.loading=!1,t.state.offset+=e.length,e){var i=e[n];t.state.list.push(i)}}))},getStyle:function(t){return 0==t.status?{name:"underway",color:"#999"}:1==t.status?{name:"checked",color:"#090"}:{name:"clear",color:"#C00"}},getDetail:function(t){var e="账号："+t.account+"；";return 0==t.status?e+"正在充值中...":1==t.status?e+(t.cash>0?"现金："+t.cash:"")+" "+(t.point>0?"积分："+t.point:""):e+t.remark}}};n("05b1");g.render=f,g.__scopeId="data-v-60b114ae";e["default"]=g}}]);
//# sourceMappingURL=chunk-adb26494.9fc31fee.js.map