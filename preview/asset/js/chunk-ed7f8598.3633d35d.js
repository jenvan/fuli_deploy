(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ed7f8598"],{2472:function(t,e,n){},"2efe":function(t,e,n){"use strict";var a=n("7a23"),c=Object(a["V"])("data-v-58a92998");Object(a["C"])("data-v-58a92998");var i={class:"title"},o={class:"label"};Object(a["A"])();var r=c((function(t,e,n,r,s,l){var u=Object(a["H"])("van-icon"),d=Object(a["H"])("van-cell"),b=Object(a["H"])("van-row");return Object(a["z"])(),Object(a["g"])("div",{class:"block",style:{background:n.bg,color:n.fg}},[Object(a["j"])(d,{center:"",onClick:e[1]||(e[1]=function(e){return t.$emit("click")})},{title:c((function(){return[Object(a["j"])("div",i,Object(a["L"])(n.title),1)]})),label:c((function(){return[Object(a["j"])("div",o,Object(a["L"])(n.subtitle),1)]})),icon:c((function(){return[Object(a["j"])(u,{class:"icon",name:n.icon||"gem-o"},null,8,["name"])]})),extra:c((function(){return[Object(a["G"])(t.$slots,"more",{},(function(){return[Object(a["j"])(u,{name:"arrow-down"})]}),{},!0)]})),_:1}),Object(a["j"])(b,{class:"content",align:"center",justify:"space-around"},{default:c((function(){return[Object(a["G"])(t.$slots,"default",{},void 0,!0)]})),_:3})],4)})),s={props:{title:{type:String,default:""},subtitle:{type:String,default:""},fg:{type:String,default:"#666"},bg:{type:String,default:"#FFF"},icon:{type:String,default:"gem-o"}}},l=(n("517d"),n("6b0d")),u=n.n(l);const d=u()(s,[["render",r],["__scopeId","data-v-58a92998"]]);e["a"]=d},"517d":function(t,e,n){"use strict";n("6760")},6760:function(t,e,n){},9170:function(t,e,n){"use strict";n("2472")},a15b:function(t,e,n){"use strict";var a=n("23e7"),c=n("44ad"),i=n("fc6a"),o=n("a640"),r=[].join,s=c!=Object,l=o("join",",");a({target:"Array",proto:!0,forced:s||!l},{join:function(t){return r.call(i(this),void 0===t?",":t)}})},ae0e:function(t,e,n){"use strict";n.r(e);n("b0c0");var a=n("7a23"),c=Object(a["V"])("data-v-6b887927");Object(a["C"])("data-v-6b887927");var i={class:"box"},o=Object(a["i"])("收款设置"),r={class:"name"},s=Object(a["j"])("div",{class:"remark"},"长按收款码可以保存到手机、转发给朋友",-1),l={class:"filter"},u=Object(a["j"])("div",{class:"dt"},"按日期筛选",-1),d={class:"type"},b={class:"list"},j={class:"amount"},f=Object(a["j"])("span",{class:"symbol"},"￥",-1),p=Object(a["j"])("div",{class:"title"},"收款设置",-1),O={class:"body"},h=Object(a["j"])("div",{class:"remark"},"受微信官方付款到零钱额度限制，每个账户超过以上限额规则的收款将自动支付到福鲤社账户余额中，可随时申请提现。",-1),m=Object(a["i"])("已选");Object(a["A"])();var v=c((function(t,e,n,v,g,w){var y=Object(a["H"])("van-button"),k=Object(a["H"])("van-image"),C=Object(a["H"])("block"),H=Object(a["H"])("van-icon"),_=Object(a["H"])("van-switch"),$=Object(a["H"])("van-cell"),S=Object(a["H"])("van-calendar"),x=Object(a["H"])("van-field"),L=Object(a["H"])("van-popup"),F=Object(a["H"])("van-tag"),z=Object(a["H"])("van-action-sheet"),V=Object(a["H"])("BaseLayout");return Object(a["z"])(),Object(a["g"])(V,{title:"收款",bg:"#F66",fg:"#FFF",height:"0"},{default:c((function(){return[Object(a["j"])("div",i,[Object(a["j"])(C,{title:"我的收款码",icon:"qr"},{more:c((function(){return[Object(a["j"])(y,{class:"btn",type:"primary",size:"small",plain:"",onClick:e[1]||(e[1]=function(t){return g.state.popup=!0})},{default:c((function(){return[o]})),_:1})]})),default:c((function(){return[Object(a["j"])("div",r,Object(a["L"])(t.nickname),1),Object(a["j"])(k,{src:"https://api.qrserver.com/v1/create-qr-code/?size=250x250&margin=10&ecc=H&data="+encodeURIComponent(w.qrcode),width:"250",height:"250",radius:"10",onClick:e[2]||(e[2]=function(e){return t.$copy(w.qrcode)})},null,8,["src"]),s]})),_:1}),Object(a["j"])(C,{title:"收款记录",icon:"cashier-o",onClick:w.init},{more:c((function(){return[Object(a["j"])(H,{name:"replay"})]})),default:c((function(){return[Object(a["j"])("div",l,[Object(a["j"])($,{icon:"calendar-o",label:w.format(g.date),onClick:e[4]||(e[4]=Object(a["U"])((function(t){return g.state.calendar=!0}),["stop"]))},{title:c((function(){return[u]})),value:c((function(){return[Object(a["j"])(_,{modelValue:g.state.type,"onUpdate:modelValue":e[3]||(e[3]=function(t){return g.state.type=t}),size:"14"},null,8,["modelValue"]),Object(a["j"])("div",d,Object(a["L"])(g.state.type?"单":"多")+"日",1)]})),_:1},8,["label"]),Object(a["j"])($,{icon:"chart-trending-o"},{title:c((function(){return[Object(a["i"])("共收款 "+Object(a["L"])(g.state.total)+" 笔，合计 "+Object(a["L"])(g.state.amount)+" 元",1)]})),_:1})]),Object(a["j"])("div",b,[(Object(a["z"])(!0),Object(a["g"])(a["a"],null,Object(a["F"])(g.state.list,(function(e,n){return Object(a["z"])(),Object(a["g"])($,{key:n,title:e.dt,label:e.remark,onClick:function(n){return t.$copy(e.remark)}},{value:c((function(){return[Object(a["j"])("div",j,[f,Object(a["i"])(Object(a["L"])(e.amount),1)])]})),_:2},1032,["title","label","onClick"])})),128))])]})),_:1},8,["onClick"]),Object(a["j"])(S,{show:g.state.calendar,"onUpdate:show":e[5]||(e[5]=function(t){return g.state.calendar=t}),type:g.state.type?"single":"range","max-range":31,"min-date":new Date("2022-01-01"),"max-date":new Date,"default-date":g.date,"show-confirm":!1,onConfirm:e[6]||(e[6]=function(t){return g.date=t})},null,8,["show","type","min-date","max-date","default-date"]),Object(a["j"])(L,{show:g.state.popup,"onUpdate:show":e[10]||(e[10]=function(t){return g.state.popup=t}),position:"bottom","close-on-popstate":!0,round:"",closeable:""},{default:c((function(){return[p,Object(a["j"])("div",O,[Object(a["j"])(H,{name:t.profile.avatar,size:64,onClick:e[7]||(e[7]=function(e){return t.$router.push("/my/profile")})},null,8,["name"]),Object(a["j"])(x,{modelValue:g.state.name,"onUpdate:modelValue":e[8]||(e[8]=function(t){return g.state.name=t}),type:"text","input-align":"center",onChange:w.handleChange},null,8,["modelValue","onChange"]),Object(a["j"])($,{title:"收款至：",value:g.state.openid?"微信零钱":"福鲤社余额","is-link":"",onClick:e[9]||(e[9]=function(t){return g.state.sheet=!0})},null,8,["value"]),Object(a["j"])($,{title:"手续费：",value:g.state.config.rate+" %"},null,8,["value"]),Object(a["j"])($,{title:"每日微信收款最大额度：",value:g.state.config.amount+" 元"},null,8,["value"]),Object(a["j"])($,{title:"每日微信收款最多次数：",value:g.state.config.total+" 次"},null,8,["value"]),h])]})),_:1},8,["show"]),Object(a["j"])(z,{show:g.state.sheet,"onUpdate:show":e[11]||(e[11]=function(t){return g.state.sheet=t}),description:"付款至本账号绑定的微信钱包",actions:g.state.bind,"cancel-text":"付款至本账号的余额","close-on-click-action":"",onSelect:w.handleSwitch,onCancel:w.handleSwitch},{action:c((function(t){return[Object(a["j"])("div",{class:{action:!0,active:g.state.openid==g.state.bind[t.index].openid}},[Object(a["j"])(H,{name:t.action.subname||"manager"},null,8,["name"]),Object(a["i"])(" "+Object(a["L"])(t.action.name)+" ",1),Object(a["S"])(Object(a["j"])(F,{class:"tag",type:"danger",round:""},{default:c((function(){return[m]})),_:2},1536),[[a["O"],g.state.openid==g.state.bind[t.index].openid]])],2)]})),_:1},8,["show","actions","onSelect","onCancel"])])]})),_:1})})),g=n("d4ab"),w=(n("9170"),n("6b0d")),y=n.n(w);const k=y()(g["a"],[["render",v],["__scopeId","data-v-6b887927"]]);e["default"]=k},d4ab:function(t,e,n){"use strict";(function(t){var a=n("53ca"),c=n("5530"),i=(n("b0c0"),n("a15b"),n("d81d"),n("7a23")),o=n("5502"),r=n("2824"),s=n("2efe");e["a"]={components:{BaseLayout:r["a"],Block:s["a"]},data:function(){var t=Object(i["E"])(new Date),e=Object(i["D"])({calendar:!1,type:!0,list:[],total:0,amount:0,popup:!1,name:"",code:"",config:"",sheet:!1,bind:[],openid:""});return{date:t,state:e}},created:function(){var t=this;for(var e in this.profile.bind){var n=this.profile.bind[e];this.state.bind.push({openid:n["openid"],name:n["nickname"],subname:n["avatar"]})}this.$http.post("/o2o/config").then((function(e){t.state.code=e.code,t.state.config=e.config,t.state.openid=e.config.openid})),this.init()},computed:Object(c["a"])(Object(c["a"])({qrcode:function(){return window.location.protocol+"//"+window.location.host+"/#/o2o/pay?code="+this.state.code}},Object(o["d"])(["profile"])),Object(o["b"])(["uid","nickname"])),watch:{date:function(){this.state.calendar=!1,this.init()}},methods:Object(c["a"])({init:function(){var t=this;this.state.name=this.nickname,this.$http.post("/o2o/list?dt="+this.format(this.date)).then((function(e){t.state.total=e.total,t.state.amount=e.amount,t.state.list=e.list}))},format:function(e){if(t.isArray(e))return t.map(e,this.format).join(" ~ ");var n="object"==Object(a["a"])(e)?new Date(e):new Date,c=n.getFullYear(),i=""+(n.getMonth()+1),o=""+n.getDate();return i.length<2&&(i="0"+i),o.length<2&&(o="0"+o),[c,i,o].join("-")},handleChange:function(){var t=this;this.$http.post("/user/modify",{nickname:this.state.name}).then((function(){t.$init(t.init)}))},handleSwitch:function(t,e){var n=this,a={realtime:1};"undefined"==typeof t?(this.state.openid="",a["realtime"]=0):(this.state.openid=this.profile.bind[e]["openid"],a["openid"]=this.state.openid),this.$http.post("/o2o/config",a).then((function(){n.$toast("设置成功")}))}},Object(o["c"])(["auth"]))}}).call(this,n("81b0"))},d81d:function(t,e,n){"use strict";var a=n("23e7"),c=n("b727").map,i=n("1dde"),o=i("map");a({target:"Array",proto:!0,forced:!o},{map:function(t){return c(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);