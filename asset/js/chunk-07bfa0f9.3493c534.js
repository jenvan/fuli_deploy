(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-07bfa0f9"],{"1eea":function(t,e,n){},"578e":function(t,e,n){"use strict";n.r(e);n("b0c0");var a=n("7a23"),i=Object(a["X"])("data-v-27dd9bf2");Object(a["D"])("data-v-27dd9bf2");var c={class:"list"},o=Object(a["j"])("标记员工");Object(a["B"])();var s=i((function(t,e,n,s,u,r){var l=Object(a["I"])("van-icon"),d=Object(a["I"])("van-button"),b=Object(a["I"])("van-cell"),h=Object(a["I"])("van-empty"),f=Object(a["I"])("van-field"),j=Object(a["I"])("van-action-bar-button"),m=Object(a["I"])("van-action-bar"),p=Object(a["I"])("member"),O=Object(a["I"])("van-action-sheet"),g=Object(a["I"])("BaseLayout");return Object(a["A"])(),Object(a["g"])(g,{title:"团队"},{default:i((function(){return[Object(a["k"])("div",c,[(Object(a["A"])(!0),Object(a["g"])(a["a"],null,Object(a["G"])(u.state.list,(function(t,e){return Object(a["A"])(),Object(a["g"])(b,{class:"item",key:e,title:t.name,label:"共 "+t.total+" 人",border:!1,onClick:function(e){return r.onClick(t)}},{icon:i((function(){return[Object(a["k"])(l,{class:"icon",name:u.state.gid==t.id?"friends":"friends-o",color:u.state.gid==t.id?"#F66":"#CCC",size:"24"},null,8,["name","color"])]})),value:i((function(){return[Object(a["k"])(d,{icon:"star-o",type:"success",size:"small",hairline:"",plain:"",onClick:Object(a["W"])((function(e){return r.onSelect(t)}),["stop"])},{default:i((function(){return[o]})),_:2},1032,["onClick"])]})),_:2},1032,["title","label","onClick"])})),128))]),Object(a["U"])(Object(a["k"])(h,{style:{width:"100%"}},null,512),[[a["Q"],0==u.state.list.length]]),Object(a["k"])(m,{class:"toolbar"},{default:i((function(){return[Object(a["k"])(f,{type:"text",border:!1,modelValue:u.state.group,"onUpdate:modelValue":e[1]||(e[1]=function(t){return u.state.group=t}),clearable:"",placeholder:"团队名称"},null,8,["modelValue"]),Object(a["k"])(j,{type:"primary",text:0==u.state.gid?"新增团队":"修改团队",onClick:r.onSave},null,8,["text","onClick"])]})),_:1}),Object(a["k"])(O,{show:u.state.show,"onUpdate:show":e[3]||(e[3]=function(t){return u.state.show=t}),title:"请点击选择员工",style:{height:"100%",maxHeight:"100%",background:"#F6F6F6"},round:!1,closeable:!1},{default:i((function(){return[Object(a["k"])(p,{selected:u.state.member,"onUpdate:selected":e[2]||(e[2]=function(t){return u.state.member=t}),onClose:r.onChange},null,8,["selected","onClose"])]})),_:1},8,["show"])]})),_:1})})),u=n("943d"),r=(n("cfd7"),n("d959")),l=n.n(r);const d=l()(u["a"],[["render",s],["__scopeId","data-v-27dd9bf2"]]);e["default"]=d},"943d":function(t,e,n){"use strict";(function(t){n("b0c0"),n("a15b"),n("13d5"),n("99af");var a=n("7a23"),i=n("2824"),c=n("0ac3");e["a"]={components:{BaseLayout:i["a"],Member:c["default"]},data:function(){var t=Object(a["E"])({list:[],gid:0,group:"",show:!1,member:[]});return{state:t}},created:function(){this.init()},methods:{init:function(){var t=this;this.$http.get("/team/groupList?stat=1").then((function(e){t.state.list=e}))},onClick:function(t){this.state.gid=this.state.gid==t.id?0:t.id,this.state.group=0==this.state.gid?"":t.name},onSelect:function(e){var n=this;this.state.gid=e.id,this.state.group=e.name,this.$http.post("/team/memberList?gid="+e.id).then((function(e){n.state.member=t.reduce(e,(function(t,e,n){return t.concat(e["uid"])}),[]).join(","),n.state.show=!0}))},onChange:function(t){null!=t&&this.$http.post("/team/groupSave?id="+this.state.gid,{member:t.join(",")}).then(this.init),this.state.show=!1},onSave:function(){this.$http.post("/team/groupSave?id="+this.state.gid+"&name="+this.state.group).then(this.init)}}}}).call(this,n("81b0"))},cfd7:function(t,e,n){"use strict";n("1eea")}}]);