(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-38eca15c"],{"18a9":function(t,e,a){"use strict";a("b3d4")},"5cd8":function(t,e,a){"use strict";(function(t){var i=a("5530"),c=(a("a9e3"),a("99af"),a("ac1f"),a("1276"),a("7a23")),n=a("5502"),o=a("2824"),s=a("370e");e["a"]={components:{BaseLayout:o["a"],MallItemChooser:s["a"]},props:{id:{type:[String,Number],default:1}},data:function(){var t=Object(c["D"])({detail:{},like:!1,choose:{num:0,spec:[]},action:"",popup:!1,category:[],active:0,pid:0});return{state:t}},created:function(){var e=this;this.$http.post("/mall/itemdetail?id="+this.id).then((function(a){e.state.detail=t.isEmpty(a)?null:Object(i["a"])(Object(i["a"])({},a),{image:a.image.length<=5?[a.cover]:[a.cover].concat(a.image.split(","))})})),this.authorized&&this.$http.get("/mall/interestList?id="+this.id).then((function(a){e.state.like=!t.isEmpty(a)}))},mounted:function(){this.togglePopup(!1)},unmounted:function(){this.togglePopup(!1)},computed:Object(i["a"])(Object(i["a"])({cartNumber:function(){return this.profile&&this.profile.cartNumber&&Array.isArray(this.profile.cartNumber)?this.profile.cartNumber[0]:""}},Object(n["d"])(["profile"])),Object(n["b"])(["authorized"])),methods:Object(i["a"])({like:function(t){var e=this;this.$http.post("/mall/interestSave?id="+t+"&remove="+(this.state.like?"1":"0")).then((function(){e.state.like=!e.state.like}))},save:function(t){this.state.choose=t,""!=this.state.action&&this.todo(this.state.action)},todo:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(this.state.action=e,""==e||0==this.state.choose.num)return this.togglePopup(!0);"add"==e&&this.$http.post("/mall/cartsave?spu="+this.state.choose.id+"&sku="+this.state.choose.sku+"&num="+this.state.choose.num).then((function(e){t.cartNumberAdd(t.state.choose.num)})),"buy"==e&&this.$http.post("/mall/cartsave?spu="+this.state.choose.id+"&sku="+this.state.choose.sku+"&num="+this.state.choose.num+"&status=2").then((function(e){t.$router.push("bill?direct=1&digital="+t.state.choose.digital)}))}},Object(n["c"])(["togglePopup","toggleTabbar","cartNumberAdd"]))}}).call(this,a("81b0"))},"977e":function(t,e,a){"use strict";a.r(e);a("a15b");var i=a("7a23"),c=Object(i["V"])("data-v-2789ce03");Object(i["C"])("data-v-2789ce03");var n={key:0},o={class:"group"},s={class:"price1"},r=Object(i["j"])("span",{class:"red"},"￥",-1),l=Object(i["i"])("市场价  "),u={class:"price2"},b=Object(i["i"])("    "),d=Object(i["i"])("月销量  "),j={class:"red"},h=Object(i["i"])(" 件"),p={class:"group"};Object(i["A"])();var O=c((function(t,e,a,O,f,m){var v=Object(i["H"])("van-image"),g=Object(i["H"])("van-swipe-item"),k=Object(i["H"])("van-swipe"),y=Object(i["H"])("van-icon"),w=Object(i["H"])("van-cell"),H=Object(i["H"])("van-action-bar-icon"),C=Object(i["H"])("van-action-bar-button"),$=Object(i["H"])("van-action-bar"),z=Object(i["H"])("mall-item-chooser"),_=Object(i["H"])("van-empty"),x=Object(i["H"])("BaseLayout");return Object(i["z"])(),Object(i["g"])(x,{title:"商品详情",navbar:"auto"},{default:c((function(){return[f.state.detail&&f.state.detail.status?(Object(i["z"])(),Object(i["g"])("div",n,[Object(i["j"])(k,{class:"image",autoplay:3e3,"lazy-render":""},{default:c((function(){return[(Object(i["z"])(!0),Object(i["g"])(i["a"],null,Object(i["F"])(f.state.detail.image,(function(t){return Object(i["z"])(),Object(i["g"])(g,{key:t},{default:c((function(){return[Object(i["j"])(v,{src:t,width:"100%",fit:"contain"},null,8,["src"])]})),_:2},1024)})),128))]})),_:1}),Object(i["j"])("div",o,[Object(i["j"])(w,{center:"",border:!1},{title:c((function(){return[Object(i["j"])("span",s,[r,Object(i["i"])(Object(i["L"])(f.state.detail.price),1)])]})),label:c((function(){return[Object(i["S"])(Object(i["j"])("span",null,[l,Object(i["j"])("span",u,"￥"+Object(i["L"])(f.state.detail.price_original),1),b],512),[[i["O"],f.state.detail.price_original]]),Object(i["S"])(Object(i["j"])("span",null,[d,Object(i["j"])("span",j,Object(i["L"])(f.state.detail.sales),1),h],512),[[i["O"],f.state.detail.sales]])]})),"right-icon":c((function(){return[Object(i["j"])(y,{name:f.state.like?"like":"like-o",size:"28",color:"#F00",onClick:e[1]||(e[1]=Object(i["U"])((function(t){return m.like(a.id)}),["stop"]))},null,8,["name"])]})),_:1}),Object(i["j"])(w,{title:f.state.detail.title,class:"van-multi-ellipsis--l2 title",label:f.state.detail.feature,border:!1},null,8,["title","label"])]),Object(i["j"])("div",p,[Object(i["j"])(w,{title:"商品库存",value:(f.state.detail?f.state.detail.stock:"0")+" 件"},null,8,["value"]),Object(i["j"])(w,{title:"商品型号",value:0==f.state.choose.spec.length?"请选择":f.state.choose.spec.join("，"),"is-link":"",onClick:e[2]||(e[2]=function(t){return m.todo()})},null,8,["value"])]),Object(i["j"])("div",{class:"detail",innerHTML:f.state.detail.intro},null,8,["innerHTML"]),Object(i["j"])($,null,{default:c((function(){return[Object(i["j"])(H,{icon:"wap-home-o",text:"首页",onClick:e[3]||(e[3]=function(e){return t.$router.push("/")})}),Object(i["j"])(H,{icon:"balance-list-o",text:"订单",onClick:e[4]||(e[4]=function(e){return t.$router.push("/my/order")})}),Object(i["j"])(H,{icon:"cart-o",text:"购物车",badge:m.cartNumber,onClick:e[5]||(e[5]=function(e){return t.$router.push("cart")})},null,8,["badge"]),0==f.state.detail.digital?(Object(i["z"])(),Object(i["g"])(C,{key:0,type:"warning",text:"加入购物车",onClick:e[6]||(e[6]=function(t){return m.todo("add")})})):Object(i["h"])("",!0),Object(i["j"])(C,{type:"danger",text:"立即购买",onClick:e[7]||(e[7]=function(t){return m.todo("buy")})})]})),_:1}),Object(i["j"])(z,{id:a.id,show:t.$store.state.showPopup,onSave:m.save},null,8,["id","show","onSave"])])):Object(i["h"])("",!0),Object(i["S"])(Object(i["j"])(_,{image:"error",description:"商品不存在或已下架"},null,512),[[i["O"],null==f.state.detail]])]})),_:1})})),f=a("5cd8"),m=(a("18a9"),a("6b0d")),v=a.n(m);const g=v()(f["a"],[["render",O],["__scopeId","data-v-2789ce03"]]);e["default"]=g},"99af":function(t,e,a){"use strict";var i=a("23e7"),c=a("d039"),n=a("e8b5"),o=a("861d"),s=a("7b0b"),r=a("50c4"),l=a("8418"),u=a("65f0"),b=a("1dde"),d=a("b622"),j=a("2d00"),h=d("isConcatSpreadable"),p=9007199254740991,O="Maximum allowed index exceeded",f=j>=51||!c((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),m=b("concat"),v=function(t){if(!o(t))return!1;var e=t[h];return void 0!==e?!!e:n(t)},g=!f||!m;i({target:"Array",proto:!0,forced:g},{concat:function(t){var e,a,i,c,n,o=s(this),b=u(o,0),d=0;for(e=-1,i=arguments.length;e<i;e++)if(n=-1===e?o:arguments[e],v(n)){if(c=r(n.length),d+c>p)throw TypeError(O);for(a=0;a<c;a++,d++)a in n&&l(b,d,n[a])}else{if(d>=p)throw TypeError(O);l(b,d++,n)}return b.length=d,b}})},b3d4:function(t,e,a){}}]);