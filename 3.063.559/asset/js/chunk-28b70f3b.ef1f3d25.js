(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-28b70f3b","chunk-ce6adc0a"],{"1eea":function(t,e,n){},2824:function(t,e,n){"use strict";var i=n("7a23"),c=Object(i["X"])("data-v-77ef1cb4");Object(i["D"])("data-v-77ef1cb4");var a={class:"container"},o={class:"back"},s={class:"head"},r={class:"more"},u={class:"subtitle"},l={class:"extra"};Object(i["B"])();var b=c((function(t,e,n,b,d,f){var h=Object(i["I"])("van-icon"),j=Object(i["I"])("van-nav-bar"),O=Object(i["I"])("van-sticky"),v=Object(i["I"])("van-col"),k=Object(i["I"])("van-row");return Object(i["A"])(),Object(i["g"])("div",a,[Object(i["U"])(Object(i["k"])(O,{onChange:e[1]||(e[1]=function(t){return b.state.isTop=!b.state.isTop})},{default:c((function(){return[Object(i["k"])(j,{class:["navbar",{notTop:!b.state.isTop,autoNav:"auto"==n.navbar}],border:!1,onClickLeft:f.onClickLeft,onClickRight:f.onClickRight},{left:c((function(){return[Object(i["U"])(Object(i["k"])("div",o,[Object(i["H"])(t.$slots,"back",{},(function(){return[Object(i["k"])(h,{name:"arrow-left"})]}),{},!0)],512),[[i["Q"],!n.noback]])]})),title:c((function(){return[Object(i["k"])("div",s,[Object(i["H"])(t.$slots,"head",{},(function(){return[Object(i["k"])("div",{style:{width:"100%",color:b.state.isTop?n.fg:"inherit"}},Object(i["M"])(b.state.isTop&&"0"!=n.height?"":n.title),5)]}),{},!0)])]})),right:c((function(){return[Object(i["k"])("div",r,[Object(i["H"])(t.$slots,"more",{},void 0,!0)])]})),_:1},8,["class","onClickLeft","onClickRight"])]})),_:1},512),[[i["Q"],"hide"!=n.navbar]]),Object(i["k"])("div",{class:["page",{notTop:!b.state.isTop,hideNav:"hide"==n.navbar,autoNav:"auto"==n.navbar,hasBar:t.$store.state.showTabbar}],style:{background:n.bg}},[Object(i["k"])(i["d"],{name:"van-slide-down"},{default:c((function(){return[Object(i["U"])(Object(i["k"])(k,{justify:"space-between",align:"center",class:"outline",style:{height:n.height+"px",color:n.fg}},{default:c((function(){return[Object(i["k"])(v,{span:"16"},{default:c((function(){return[Object(i["k"])("div",{class:"title",style:{color:n.fg},onClick:e[2]||(e[2]=function(e){return t.$emit("click-title")})},[Object(i["H"])(t.$slots,"title",{},(function(){return[Object(i["j"])(Object(i["M"])(n.title),1)]}),{},!0),Object(i["k"])("div",u,Object(i["M"])(n.subtitle),1)],4)]})),_:3}),Object(i["k"])(v,{span:"8"},{default:c((function(){return[Object(i["k"])("div",l,[Object(i["H"])(t.$slots,"extra",{},void 0,!0)])]})),_:3})]})),_:1},8,["style"]),[[i["Q"],b.state.isTop&&"show"==n.navbar]])]})),_:1}),Object(i["H"])(t.$slots,"default",{},void 0,!0)],6)])})),d={props:{navbar:{type:String,default:"show"},noback:{type:Boolean,default:!1},title:String,subtitle:String,height:String,bg:String,fg:String},setup:function(){var t=Object(i["E"])({isTop:!0});return{state:t}},methods:{onClickLeft:function(){var t=this;this.noback||(this.$emit("click-back"),setTimeout((function(e){if(e==t.$route)return window&&window.history.length>1?t.$router.back():t.$router.push("/")}),200,this.$route))},onClickRight:function(){return this.$emit("click-more")}}},f=(n("8710"),n("d959")),h=n.n(f);const j=h()(d,[["render",b],["__scopeId","data-v-77ef1cb4"]]);e["a"]=j},"578e":function(t,e,n){"use strict";n.r(e);n("b0c0");var i=n("7a23"),c=Object(i["X"])("data-v-27dd9bf2");Object(i["D"])("data-v-27dd9bf2");var a={class:"list"},o=Object(i["j"])("标记员工");Object(i["B"])();var s=c((function(t,e,n,s,r,u){var l=Object(i["I"])("van-icon"),b=Object(i["I"])("van-button"),d=Object(i["I"])("van-cell"),f=Object(i["I"])("van-empty"),h=Object(i["I"])("van-field"),j=Object(i["I"])("van-action-bar-button"),O=Object(i["I"])("van-action-bar"),v=Object(i["I"])("member"),k=Object(i["I"])("van-action-sheet"),g=Object(i["I"])("BaseLayout");return Object(i["A"])(),Object(i["g"])(g,{title:"团队"},{default:c((function(){return[Object(i["k"])("div",a,[(Object(i["A"])(!0),Object(i["g"])(i["a"],null,Object(i["G"])(r.state.list,(function(t,e){return Object(i["A"])(),Object(i["g"])(d,{class:"item",key:e,title:t.name,label:"共 "+t.total+" 人",border:!1,onClick:function(e){return u.onClick(t)}},{icon:c((function(){return[Object(i["k"])(l,{class:"icon",name:r.state.gid==t.id?"friends":"friends-o",color:r.state.gid==t.id?"#F66":"#CCC",size:"24"},null,8,["name","color"])]})),value:c((function(){return[Object(i["k"])(b,{icon:"star-o",type:"success",size:"small",hairline:"",plain:"",onClick:Object(i["W"])((function(e){return u.onSelect(t)}),["stop"])},{default:c((function(){return[o]})),_:2},1032,["onClick"])]})),_:2},1032,["title","label","onClick"])})),128))]),Object(i["U"])(Object(i["k"])(f,{style:{width:"100%"}},null,512),[[i["Q"],0==r.state.list.length]]),Object(i["k"])(O,{class:"toolbar"},{default:c((function(){return[Object(i["k"])(h,{type:"text",border:!1,modelValue:r.state.group,"onUpdate:modelValue":e[1]||(e[1]=function(t){return r.state.group=t}),clearable:"",placeholder:"团队名称"},null,8,["modelValue"]),Object(i["k"])(j,{type:"primary",text:0==r.state.gid?"新增团队":"修改团队",onClick:u.onSave},null,8,["text","onClick"])]})),_:1}),Object(i["k"])(k,{show:r.state.show,"onUpdate:show":e[3]||(e[3]=function(t){return r.state.show=t}),title:"请点击选择员工",style:{height:"100%",maxHeight:"100%",background:"#F6F6F6"},round:!1,closeable:!1},{default:c((function(){return[Object(i["k"])(v,{selected:r.state.member,"onUpdate:selected":e[2]||(e[2]=function(t){return r.state.member=t}),onClose:u.onChange},null,8,["selected","onClose"])]})),_:1},8,["show"])]})),_:1})})),r=n("943d"),u=(n("cfd7"),n("d959")),l=n.n(u);const b=l()(r["a"],[["render",s],["__scopeId","data-v-27dd9bf2"]]);e["default"]=b},8710:function(t,e,n){"use strict";n("994b")},"943d":function(t,e,n){"use strict";(function(t){n("b0c0"),n("a15b"),n("13d5"),n("99af");var i=n("7a23"),c=n("2824"),a=n("0ac3");e["a"]={components:{BaseLayout:c["a"],Member:a["default"]},data:function(){var t=Object(i["E"])({list:[],gid:0,group:"",show:!1,member:[]});return{state:t}},created:function(){this.init()},methods:{init:function(){var t=this;this.$http.get("/team/groupList?stat=1").then((function(e){t.state.list=e}))},onClick:function(t){this.state.gid=this.state.gid==t.id?0:t.id,this.state.group=0==this.state.gid?"":t.name},onSelect:function(e){var n=this;this.state.gid=e.id,this.state.group=e.name,this.$http.post("/team/memberList?gid="+e.id).then((function(e){n.state.member=t.reduce(e,(function(t,e,n){return t.concat(e["uid"])}),[]).join(","),n.state.show=!0}))},onChange:function(t){null!=t&&this.$http.post("/team/groupSave?id="+this.state.gid,{member:t.join(",")}).then(this.init),this.state.show=!1},onSave:function(){this.$http.post("/team/groupSave?id="+this.state.gid+"&name="+this.state.group).then(this.init)}}}}).call(this,n("81b0"))},"994b":function(t,e,n){},a15b:function(t,e,n){"use strict";var i=n("23e7"),c=n("44ad"),a=n("fc6a"),o=n("a640"),s=[].join,r=c!=Object,u=o("join",",");i({target:"Array",proto:!0,forced:r||!u},{join:function(t){return s.call(a(this),void 0===t?",":t)}})},cfd7:function(t,e,n){"use strict";n("1eea")}}]);