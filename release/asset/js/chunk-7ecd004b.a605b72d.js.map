{"version":3,"sources":["webpack:///./src/views/Mall/Interest.vue","webpack:///./src/views/Mall/Interest.vue?6969","webpack:///./src/views/Mall/Interest.vue?481a","webpack:///./src/components/MallItem.vue","webpack:///./src/components/MallItem.vue?7e32","webpack:///./src/components/MallItem.vue?4550"],"names":["title","state","refreshing","onRefresh","class","loading","finished","loading-text","finished-text","immediate-check","onLoad","list","item","index","grid","key","cart","sales","stock","style","length","components","BaseLayout","MallItem","setup","offset","limit","mounted","this","methods","$http","get","then","data","i","push","cover","image","render","__scopeId","justify","align","forward","span","width","height","radius","fit","src","border","label","feature","center","price","price_original","right-icon","name","size","color","$emit","id","props","type","Boolean","default","Object","prefix","test","$router","currentRoute","value","path","spu"],"mappings":"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","file":"asset/js/chunk-7ecd004b.a605b72d.js","sourcesContent":["<template>\n  <BaseLayout title=\"我的关注\">\n    <van-pull-refresh v-model=\"state.refreshing\" @refresh=\"onRefresh\">\n      <van-list class=\"list\" v-model:loading=\"state.loading\" :finished=\"state.finished\" loading-text=\"正在请求数据 ...\" finished-text=\"没有更多了\" :immediate-check=\"false\" @load=\"onLoad\">\n        <mall-item :grid=\"state.grid\" :item=\"item\" v-for=\"(item, index) in state.list\" :key=\"index\" :cart=\"false\" :sales=\"false\" :stock=\"false\"></mall-item>\n        <van-empty v-show=\"state.list.length == 0\" :style=\"{width:'100%'}\"></van-empty>\n      </van-list>\n    </van-pull-refresh>\n  </BaseLayout>\n</template>\n\n<style scoped>\n.list {\n  display: flex;\n  flex-flow: row wrap;\n  align-content: flex-start;\n  min-height: 500px;\n}\n</style>\n\n<script>\nimport {reactive} from 'vue'\nimport BaseLayout from '@/components/BaseLayout.vue'\nimport MallItem from '@/components/MallItem.vue'\n\nexport default {\n  components: {BaseLayout, MallItem},\n\n  setup() {\n    const state = reactive({\n      refreshing: false,\n      loading: false,\n      finished: false,\n      grid: true,\n      list: [],\n      offset: 0,\n      limit : 20\n    });\n    return {state};\n  },\n\n  mounted(){\n    this.onRefresh();\n  },\n\n  methods: {\n    onRefresh() {\n      this.state.loading = true;\n      this.state.finished = false;\n      this.state.offset = 0;\n      this.state.list = [];\n      this.onLoad();\n    },\n    onLoad() {\n      this.$http.get(\"/mall/interestList?type=1&offset=\" + this.state.offset + \"&limit=\" + this.state.limit).then((data) => {\n        this.state.refreshing = false;\n        if (data.length == 0 || data.length < this.state.limit)\n          this.state.finished = true;\n        this.state.loading = false;\n        this.state.offset += data.length;\n\n        for (let i in data){\n          let item = data[i];\n          this.state.list.push({...item, ...{\n            cover: item.image,\n          }});\n        }\n      });\n    },\n  }\n}\n</script>\n","import { render } from \"./Interest.vue?vue&type=template&id=35f49f61&scoped=true\"\nimport script from \"./Interest.vue?vue&type=script&lang=js\"\nexport * from \"./Interest.vue?vue&type=script&lang=js\"\n\nimport \"./Interest.vue?vue&type=style&index=0&id=35f49f61&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-35f49f61\"\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Interest.vue?vue&type=style&index=0&id=35f49f61&scoped=true&lang=css\"","<template> \n  <van-row class=\"item\" :class=\"{grid: grid}\" justify=\"space-between\" align=\"top\" @click=\"forward(item)\">\n    <van-col class=\"image\" :span=\"grid ? 24 : 8\">\n      <van-image width=\"100%\" height=\"100%\" radius=\"5\" :fit=\"grid ? 'contain' : 'cover'\" :src=\"item.cover\"></van-image>\n    </van-col>\n    <van-col class=\"intro\" :span=\"grid ? 24 : 16\">\n      <van-cell :border=\"false\">\n        <template #title><div class=\"van-ellipsis\">{{item.title}}</div></template>\n        <template #label><div class=\"van-ellipsis\">{{item.feature}}</div></template>\n      </van-cell>\n      <van-cell :border=\"false\" :center=\"!grid\">\n        <template #title>\n          <span class=\"price1\"><span class=\"red\">￥</span> {{item.price}} </span>\n          &nbsp;\n          <span class=\"price2\" v-show=\"!grid && item.price_original && item.price_original > 0\"> ￥ {{item.price_original}}</span>\n        </template>\n        <template #label>\n          <span class=\"stock\" v-show=\"!grid && stock\">库存 <span class=\"red\">{{item.stock}}</span> 件 &nbsp;</span>\n          <span class=\"sales\" v-show=\"!grid && sales && item.sales\">月销 <span class=\"red\">{{item.sales}}</span> 件</span>\n        </template>\n        <template #right-icon><van-icon v-show=\"cart\" name=\"cart-o\" size=\"21\" color=\"#F00\" @click.stop=\"$emit('add', item.id)\" /></template>\n      </van-cell>\n    </van-col>\n  </van-row>\n</template>\n\n<style scoped>\n.item {\n  width: 100%;\n  height: 130px;\n  margin: 5px;\n  background: #FFF;\n  border-radius: 5px;\n  text-align: center;\n  overflow: hidden;\n}\n.image {\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n}\n.intro {\n  display: flex;\n  flex-flow: column nowrap;\n  justify-content: space-between;\n  text-align: left;\n}\n\n.item.grid {\n  width: 170px;\n  height: 280px;\n}\n.item.grid .image {\n  height: 170px;\n}\n.item.grid .intro {\n  height: 110px;\n}\n\n.price1 {\n  font-size: 16px;\n}\n.price2 {\n  color: #CCC;\n  font-size: 12px;\n  text-decoration: line-through;\n}\n\n.red {\n  color: #F00;\n}\n</style>\n\n<script>\nexport default {\n  props:{\n    grid: {\n      type: Boolean,\n      default: true,\n    },\n    stock: {\n      type: Boolean,\n      default: true,\n    },\n    sales: {\n      type: Boolean,\n      default: true,\n    },\n    cart: {\n      type: Boolean,\n      default: true,\n    },\n    item: {\n      type: Object,\n      default() {\n        return {};\n      },\n    },\n  },\n\n  methods: {\n    forward(item) {\n      let prefix = /\\/my\\//.test(this.$router.currentRoute.value.path) ? \"/mall/\" : \"\";\n      let id = typeof item.spu != \"undefined\" ? item.spu : item.id;\n      this.$router.push(prefix + \"item?id=\" + id);\n    }\n  },\n}\n</script>\n","import { render } from \"./MallItem.vue?vue&type=template&id=51088b8e&scoped=true\"\nimport script from \"./MallItem.vue?vue&type=script&lang=js\"\nexport * from \"./MallItem.vue?vue&type=script&lang=js\"\n\nimport \"./MallItem.vue?vue&type=style&index=0&id=51088b8e&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-51088b8e\"\n\nexport default script","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./MallItem.vue?vue&type=style&index=0&id=51088b8e&scoped=true&lang=css\""],"sourceRoot":""}