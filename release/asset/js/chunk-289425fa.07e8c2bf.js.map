{"version":3,"sources":["webpack:///./src/assets/jdlogo.png","webpack:///./node_modules/core-js/modules/es.array.reduce.js","webpack:///./src/views/JDMall/Cart.vue","webpack:///./node_modules/core-js/modules/es.array.find.js","webpack:///./src/views/JDMall/Cart.vue?4b2b","webpack:///./node_modules/core-js/modules/es.array.join.js","webpack:///./node_modules/core-js/internals/array-reduce.js","webpack:///./src/views/JDMall/Cart.vue?85e2","webpack:///./node_modules/core-js/modules/es.array.map.js"],"names":["module","exports","$","$reduce","left","arrayMethodIsStrict","CHROME_VERSION","IS_NODE","STRICT_METHOD","CHROME_BUG","target","proto","forced","reduce","callbackfn","this","arguments","length","undefined","components","BaseLayout","data","state","refreshing","list","total","amount","tip","created","getList","computed","empty","_","isEmpty","methods","authorized","$http","get","then","map","o","check","getError","index","stock","v","skuId","num","post","addressCode","JSON","stringify","i","item","result","find","sku","checked","permit","console","log","stat","parseInt","price","cartNumberSet","onRemove","id","like","omit","onChange","obj","has","status","onSubmit","$notify","filter","arr","k","push","$router","join","$find","addToUnscopables","FIND","SKIPS_HOLES","Array","IndexedObject","toIndexedObject","nativeJoin","ES3_STRINGS","Object","separator","call","aFunction","toObject","toLength","createMethod","IS_RIGHT","that","argumentsLength","memo","O","self","TypeError","right","class","src","title","subtitle","bg","icon","value","address","extra","type","size","to","loading-text","description","key","justify","align","span","disabled","width","height","radius","fit","image","spu","square","text","border","center","theme","button-size","min","max","integer","style","button-text","__exports__","render","$map","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT"],"mappings":"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","file":"asset/js/chunk-289425fa.07e8c2bf.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAAAPCAIAAADsy5EEAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEYklEQVQ4jYVUW2xUVRRd59xzZ+7Mbacv2mmJ0tIE2ilGP5CQUSovmQgFiRLBAP4oLYKJSPARNfojEpVH+SEm/PChP5CAaJhalY/WCIbwKjRVKM8+EFvaTh/Mnbn33Hu2HzOW1lBcf2fvs/baZ591DvPu3VP3xwCGCZCdnYP1ryvHKdqzz//sAkwCsaCplZSooUE1MgrG5K2bA/WbaGQ474MPcza+hqlAxAyDJXZ9njx2jHH+IMFAUqq/+0DES4qZYYAmsJQyFi4s+mr38N49ySOHmaaRZanEIBS0x2fwadOm1PM8Y9kyYSyo5aEQm5wiUFaDsf+kwJiYXQXGAgtqRVGRcuTY1wdA8EejwbqVU4oBIBJVVcIXiaR++Vn19RGpR+3OaHHOiqaZGzaCMX806o9G7bNnR8bGmO7LbXgzEIv9bwWhksl0849uV5exZKmojjxiq9d122r6nofL8rZsRV4eACiVip+AZWmRGv/cuQC8wUHr+HeQjvHcIr2m5iF6YADX4DfMtWuDL738CL10a0uquYlxDf/O2L37lxWPQ+NGbS0vLASg+vtHG/ep0dGCUP4UeplBkXK7upzLlyZaYxIYc9raJtmKyD592uvtgS54QYHVFAeR19cHKRlI/tFhnTgBGi9HLBAwos8w2d09sOkNt6eH+Q34/QABDK5LVpKBYOZCCCgFxsiymHJ5uLTkm2+16dPJTg9se8f+tRUAhJ61l/JoeIgRMTOXjACNt8+4KC0tPniQKdt2u27DU+TK8Zx7rTPx7g5Kp/O/+NL/9DySMvM+maZB9+kVFRACypM3b0E65HlApk/m3ekd2vY2WVZo+w4jFoNSWaLQwbkoLxfM5xMVM1M/NcurV/TZVYEXljNdh1LgnAhaSVivrgaQam52Otr1qkhwxQpkpso1vbLSisfdzquisjL44mpomtQ4NA0AD4d9c+bAdVMnTzod7frMykBdHfP7BQA1MDC6f79z5c/CPfuYpj30+pRljTQ26uUV/vnzteLiTNDr7x/etdPr7S3Y24iJV5s9L6Bp5MqxAwd4YaEeqdEjEQHAPn9OXrsWWLwkGItNonEOLbsMxmLW88vSzU3p1lZzzZqMRZ2LF9wbN4LLV5h1dXjwMTBwDiEyLgssWhxcuer+0aP2ubN6dbWgZNKKx1kwENr6Fi8oAACl3OvXyXF4Xp4WLs3WyMkJNWy2T52yfjhurl4NXYfjJI8c5qFQ7patzDQzjlVDQyQlfD5RXj5OzKlvSJ/6zWpqCq5cBaejo/epJ4c+/kilUkSkUqnRQ4fuzJvb/dj0xM7PMsEspEx8+klPZYXdfpmI7EttPRUzBt9/j1xJROS6yXj87tIl3WXhew2bvERinKccZ3j37u6qWamWFmFfOM/Lysx1rzLDAEBSps+c0UrLcusbzFfWZoJZCGGu35BqbbHPn/PNeUJe7RSzZoU2b4YmAJBSdttFAkLbt5vrN/L8/AdPV9dz1q1L/37aab/8D5A6DH1a+MVkAAAAAElFTkSuQmCC\"","'use strict';\nvar $ = require('../internals/export');\nvar $reduce = require('../internals/array-reduce').left;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar CHROME_VERSION = require('../internals/engine-v8-version');\nvar IS_NODE = require('../internals/engine-is-node');\n\nvar STRICT_METHOD = arrayMethodIsStrict('reduce');\n// Chrome 80-82 has a critical bug\n// https://bugs.chromium.org/p/chromium/issues/detail?id=1049982\nvar CHROME_BUG = !IS_NODE && CHROME_VERSION > 79 && CHROME_VERSION < 83;\n\n// `Array.prototype.reduce` method\n// https://tc39.es/ecma262/#sec-array.prototype.reduce\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD || CHROME_BUG }, {\n  reduce: function reduce(callbackfn /* , initialValue */) {\n    return $reduce(this, callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","<template>\n  <BaseLayout title=\"购物车\" subtitle=\"更多操作请按住商品标题左滑\" bg=\"#FFF\">\n\n    <div class=\"jdlogo\"><img src=\"~@/assets/jdlogo.png\"/></div>\n      \n    <van-cell class=\"location\" icon=\"location\" :value=\"'配送至：' + address\">\n      <template #extra>\n        <van-button type=\"primary\" size=\"mini\" to=\"/my/address/change?target=/jdmall/cart\">更改</van-button>\n      </template>\n    </van-cell>\n\n    <van-pull-refresh class=\"list\" v-model=\"state.refreshing\" loading-text=\" \" @refresh=\"getList\">\n\n      <van-empty v-show=\"empty\" description=\"购物车空空如也 ~\">\n        <van-button v-show=\"!authorized\" type=\"primary\" size=\"small\" to=\"/login\">请先登录</van-button>\n      </van-empty>\n\n      <van-row v-for=\"(item, index) in state.list\" :key=\"index\" class=\"item\" justify=\"space-between\" align=\"center\">\n        <van-col class=\"check\" :span=\"2\">\n          <van-checkbox v-model=\"state.list[index].checked\" :disabled=\"getError(index).length > 0\" @change=\"onChange(item.id, {status: state.list[index].checked})\"></van-checkbox>\n        </van-col>\n        <van-col class=\"image\" :span=\"6\">\n          <van-image width=\"100%\" height=\"100%\" radius=\"5\" fit=\"contain\" :src=\"item.image\" @click=\"$router.push('item?id=' + item.spu)\"></van-image>\n        </van-col>\n        <van-col class=\"intro\" :span=\"16\">\n          <van-swipe-cell>\n            <template #right>\n              <div class=\"operate\">\n                <van-button square type=\"primary\" text=\"收藏\" @click=\"onRemove(index, item.id, 1)\" />\n                <van-button square type=\"danger\"  text=\"删除\" @click=\"onRemove(index, item.id)\" />\n              </div>\n            </template>\n            <van-cell :border=\"false\" @click=\"$router.push('item?id=' + item.spu)\">\n              <template #value><div class=\"van-multi-ellipsis--l2\">{{item.title}}</div></template>\n            </van-cell>\n            <van-cell :border=\"false\" center>\n              <template #title>\n                <span class=\"price\"><span class=\"red\">￥</span> {{item.price}} </span>\n              </template>\n              <van-stepper v-model=\"state.list[index].num\" theme=\"round\" button-size=\"22\" min=\"1\" max=\"1000\" :disabled=\"item.status<0\" integer @change=\"state.list[index].num && onChange(item.id, {num:state.list[index].num})\" />\n            </van-cell>\n          </van-swipe-cell>\n        </van-col>\n        <div class=\"error\" v-show=\"getError(index).length > 0\">{{getError(index)}}</div>\n      </van-row>\n      \n      </van-pull-refresh>\n\n      <van-submit-bar :style=\"{bottom:'0px'}\" :price=\"state.amount*100\" :button-text=\"'去结算(' + state.total + ')'\" :tip=\"state.tip\" @submit=\"onSubmit\"></van-submit-bar>\n\n  </BaseLayout>\n</template>\n\n<style scoped>\n.jdlogo {\n  position: fixed;\n  top: 12px;\n  right: 15px;\n  z-index: 999999999;\n}\n\n.location {\n  background: #FFFFEE;\n}\n\n.list {\n  margin: 0;\n  padding-top: 5px;\n  padding-bottom: 80px;\n  min-height: 500px;\n  background: #EEE;\n}\n\n.item {\n  position: relative;\n  height: 130px;\n  margin: 10px;\n  background: #FFF;\n  border-radius: 5px;\n  text-align: center;\n  overflow: hidden;\n}\n.check {\n  padding-left: 5px;\n}\n.image {\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n}\n.intro {\n  display: flex;\n  flex-flow: column nowrap;\n  justify-content: space-between;\n  text-align: left;\n}\n.price {\n  font-size: 16px;\n}\n.red {\n  color: #F00;\n}\n\n.operate {\n  display: flex;\n  flex-flow: column nowrap;\n  justify-content: space-between;\n}\n.error {\n  position: absolute;\n  right: 0;\n  top: 0;\n  padding: 3px;\n  background: #CCC;\n  border-radius: 0 0 0 5px;\n  font-size: 9px;\n}\n\n</style>\n\n<script>\nimport {reactive, ref} from 'vue'\nimport {mapState, mapGetters, mapMutations} from 'vuex'\nimport BaseLayout from '@/components/BaseLayout.vue'\n\nexport default {\n  components: {BaseLayout},\n\n  data() {\n    const state = reactive({\n      refreshing: false,\n      list: [],\n      total: 0,\n      amount: 0,\n      tip: \"\",\n    });\n    return {state};\n  },\n\n  created() {\n    this.getList();\n  },\n\n  computed: {\n    empty() {\n      return _.isEmpty(this.state.list);\n    },\n    ...mapGetters([\"authorized\", \"address\", \"addressCode\"]),\n  },\n\n  methods: {\n    getList() {\n      if (!this.authorized) return;\n\n      this.state.refreshing = true;\n      this.state.list = [];\n\n      this.$http.get(\"/mall/cartlist?channel=1\").then((data) => {\n        this.state.refreshing = false;\n        this.state.list = _.map(data, (o) => {\n          o[\"checked\"] = o[\"status\"] == 1; \n          return o;\n        });\n        this.check();\n      });\n    },\n    getError(index) {\n      if (typeof this.state.list[index] != \"object\")\n        return \"\";\n      if (this.state.list[index].stock <= 0)\n        return \"库存不足\";\n      if (this.state.list[index].check <= 0)\n        return \"已下架\";\n      return \"\";\n    },\n\n    check() {\n      let list = _.map(this.state.list, (v) => {\n        return {skuId: v[\"spu\"], num: v[\"num\"]};\n      });\n      this.$http.post(\"/jdmall/itemCheck?address=\" + this.addressCode, {list :JSON.stringify(list)}).then((data) => {\n        for (let i in this.state.list){\n          let item = this.state.list[i];\n          let result = _.find(data, {\"skuId\":item.sku});\n          this.state.list[i] = {\n            ...item, \n            ...result,\n            checked: (item.checked && result.stock == 1 && result.permit == 1)\n          };\n        }\n        console.log(this.state.list);\n        this.stat();\n      });\n    },\n\n    stat() {\n      let total = 0;\n      let amount = 0;\n      for (let i in this.state.list){\n        let item = this.state.list[i];\n        if (item.checked){\n          total += parseInt(item.num);\n          amount += parseInt(item.num) * item.price;\n        }\n      }\n      this.state.total = total;\n      this.state.amount = amount;\n      this.cartNumberSet(total);\n    },\n\n    onRemove(index, id, like = 0) {\n      this.$http.post(\"/mall/cartsave?id=\" + id + \"&remove=1&like=\" + like).then(() => {\n        this.state.list = _.omit(this.state.list, index);\n        this.stat();\n      });\n    },\n\n    onChange(id, obj) {\n      typeof obj == \"object\" && this.$http.get(\"/mall/cartsave?id=\" + id + (_.has(obj, \"num\") ? \"&num=\" + obj.num : \"\") + (_.has(obj, \"status\") ? \"&status=\" + (obj.status ? 1 : 0) : \"\") ).then(() => {\n        if (_.has(obj, \"status\") && obj.status == 0) {\n          return this.stat();\n        }\n        return this.check();\n      });\n    },\n\n    onSubmit() {\n      if (this.state.total == 0) {\n        return this.$notify(\"请先选择要结算的商品\");\n      }\n\n      let obj = _.filter(this.state.list, (o) => {return !o.checked;});\n      let arr = _.reduce(obj, function(result, v, k) {\n        result.push(v[\"id\"]);\n        return result;\n      }, []);\n\n      if (arr.length == 0){\n        return this.$router.push(\"bill\");\n      }\n      \n      this.$http.post(\"/mall/cartsave?id=\" + arr.join(\",\") + \"&status=0\").then(() => {\n        this.$router.push(\"bill\");\n      });\n    },\n\n    ...mapMutations([\"cartNumberSet\"]),\n  },\n}\n</script>\n","'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.es/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Cart.vue?vue&type=style&index=0&id=0bf12f6e&scoped=true&lang=css\"","'use strict';\nvar $ = require('../internals/export');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = [].join;\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.es/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","var aFunction = require('../internals/a-function');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\nvar toLength = require('../internals/to-length');\n\n// `Array.prototype.{ reduce, reduceRight }` methods implementation\nvar createMethod = function (IS_RIGHT) {\n  return function (that, callbackfn, argumentsLength, memo) {\n    aFunction(callbackfn);\n    var O = toObject(that);\n    var self = IndexedObject(O);\n    var length = toLength(O.length);\n    var index = IS_RIGHT ? length - 1 : 0;\n    var i = IS_RIGHT ? -1 : 1;\n    if (argumentsLength < 2) while (true) {\n      if (index in self) {\n        memo = self[index];\n        index += i;\n        break;\n      }\n      index += i;\n      if (IS_RIGHT ? index < 0 : length <= index) {\n        throw TypeError('Reduce of empty array with no initial value');\n      }\n    }\n    for (;IS_RIGHT ? index >= 0 : length > index; index += i) if (index in self) {\n      memo = callbackfn(memo, self[index], index, O);\n    }\n    return memo;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.reduce` method\n  // https://tc39.es/ecma262/#sec-array.prototype.reduce\n  left: createMethod(false),\n  // `Array.prototype.reduceRight` method\n  // https://tc39.es/ecma262/#sec-array.prototype.reduceright\n  right: createMethod(true)\n};\n","import { render } from \"./Cart.vue?vue&type=template&id=0bf12f6e&scoped=true\"\nimport script from \"./Cart.vue?vue&type=script&lang=js\"\nexport * from \"./Cart.vue?vue&type=script&lang=js\"\n\nimport \"./Cart.vue?vue&type=style&index=0&id=0bf12f6e&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/fuli/fuli/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0bf12f6e\"]])\n\nexport default __exports__","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n\n// `Array.prototype.map` method\n// https://tc39.es/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n"],"sourceRoot":""}