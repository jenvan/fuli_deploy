{"version":3,"sources":["webpack:///./src/views/Mall/Order.vue?4021","webpack:///./src/views/Mall/Order.vue","webpack:///./src/views/Mall/Order.vue?5744"],"names":["title","state","refreshing","onRefresh","class","loading","finished","loading-text","finished-text","immediate-check","onLoad","list","item","index","align","key","span","color","dt_create","id","style","status","detail","v","k","src","image","fit","amount","total","dt_pay","dt_send","dt_finish","components","BaseLayout","setup","offset","limit","mounted","this","methods","$http","get","then","data","i","length","push","render","__scopeId"],"mappings":"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","file":"asset/js/chunk-e62d9b2a.a8ffef18.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Order.vue?vue&type=style&index=0&id=134b5b35&scoped=true&lang=css\"","<template>\n  <BaseLayout title=\"我的订单\">\n    <van-pull-refresh v-model=\"state.refreshing\" @refresh=\"onRefresh\">\n\n      <van-list class=\"list\" v-model:loading=\"state.loading\" :finished=\"state.finished\" loading-text=\"正在请求数据 ...\" finished-text=\"没有更多了\" :immediate-check=\"false\" @load=\"onLoad\">\n        \n        <van-row class=\"block\" align=\"center\" v-for=\"(item,index) in state.list\" :key=\"index\" >\n          <van-col span=\"24\" class=\"dt\"><van-tag color=\"#CCC\">{{item.dt_create}}</van-tag></van-col>\n          <van-col span=\"12\" class=\"id\"># {{item.id}}</van-col>\n          <van-col span=\"12\" class=\"status\" :style=\"{color:item.color}\">{{item.status}}</van-col>\n          <van-col span=\"19\" class=\"detail\">\n            <van-image class=\"img\" v-for=\"(v,k) in item.detail\" :key=\"k\" :src=\"v.image\" fit=\"contain\"></van-image>\n          </van-col>\n          <van-col span=\"5\" class=\"amount\">\n            <div>￥ {{item.amount}}</div>\n            <div>共 {{item.total}} 件</div>\n          </van-col>\n          <van-col span=\"24\" class=\"extra\">\n            {{item.dt_pay ? ('付款时间：' + item.dt_pay) : ''}}\n            <br>\n            {{item.dt_send ? ('发货时间：' + item.dt_send) : ''}}\n            <br>\n            {{item.dt_finish ? ('完成时间：' + item.dt_finish) : ''}}\n          </van-col>\n        </van-row>\n\n      </van-list>\n\n    </van-pull-refresh>\n  </BaseLayout>\n</template>\n\n<style scoped>\n.list {\n  min-height: 500px;\n  padding: 5px;\n  background: #F9F9F9;\n  border-top: solid 1px #EEE;\n}\n.block {\n  margin-top: 45px;\n  padding: 0 10px;\n  background: #FFF;\n  border-radius: 10px;\n  border: solid 1px #F6F6F6;\n  font-size: 12px;\n}\n\n.dt {\n  position: relative;\n  top: -25px;\n  text-align: center;\n}\n.id {\n  font-size: 14px;\n  font-weight: 600;\n}\n.status {\n  text-align: right;\n}\n.detail {\n  float: left;\n  width: 100%;\n  height: auto;\n  overflow-x: scroll;\n}\n.img {\n  width: 80px;\n  height: 80px;\n  margin: 10px 3px 0 0;\n  border: solid 1px #F6F6F6;\n  border-radius: 5px;\n}\n.amount {\n  border-left: solid 1px #EEE;\n  font-size: 12px;\n  text-align: right;\n}\n\n.extra {\n  padding-top: 10px;\n  line-height: 24px;\n  text-align: right;\n}\n\n</style>\n\n<script>\nimport {reactive} from 'vue'\nimport BaseLayout from '@/components/BaseLayout.vue'\n\nexport default {\n  components: {BaseLayout},\n\n  setup() {\n    const state = reactive({\n      refreshing: false,\n      loading: false,\n      finished: false,\n      list: [],\n      offset: 0,\n      limit : 20\n    });\n    return { \n      state\n    };\n  },\n\n  mounted(){\n    this.onRefresh();\n  },\n\n  methods: {\n    onRefresh() {\n      this.state.loading = true;\n      this.state.finished = false;\n      this.state.offset = 0;\n      this.state.list = [];\n      this.onLoad();\n    },\n    onLoad() {\n      this.$http.get(\"/mall/orderlist?offset=\" + this.state.offset + \"&limit=\" + this.state.limit).then((data) => {\n        this.state.refreshing = false;\n        if (data.length == 0 || data.length < this.state.limit)\n          this.state.finished = true;\n        this.state.loading = false;\n        this.state.offset += data.length;\n\n        for (let i in data){\n          let item = data[i];\n          this.state.list.push({...item, ...{\n            status: [\"未付款\", \"已付款\", \"交易成功\", \"交易失败\"][item.status],\n            color: [\"#999\", \"#00C\", \"#0C0\", \"#C00\"][item.status],\n          }});\n        }\n      });\n    },\n  }\n}\n</script>\n","import { render } from \"./Order.vue?vue&type=template&id=134b5b35&scoped=true\"\nimport script from \"./Order.vue?vue&type=script&lang=js\"\nexport * from \"./Order.vue?vue&type=script&lang=js\"\n\nimport \"./Order.vue?vue&type=style&index=0&id=134b5b35&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-134b5b35\"\n\nexport default script"],"sourceRoot":""}