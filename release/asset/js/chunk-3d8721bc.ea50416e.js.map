{"version":3,"sources":["webpack:///./src/views/Team/Index.vue?e8cd","webpack:///./src/views/Team/Index.vue","webpack:///./src/views/Team/Index.vue?7ec1"],"names":["class","title","subtitle","bg","onTitle","noback","extra","icon","style","color","state","popup","authorized","center","is-link","to","name","size","summary","member","cash","point","invoice","card","total","amount","show","info","profile","item","key","label","value","type","clickable","clearable","autosize","input-align","right-icon","onChange","__exports__","render","components","BaseLayout","data","linkman","mobile","wechat","intro","created","this","computed","_","isEmpty","methods","$http","post","then","field","params","catch"],"mappings":"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","file":"asset/js/chunk-3d8721bc.ea50416e.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Index.vue?vue&type=style&index=0&id=5f83a6f2&scoped=true&lang=css\"","<template>\n  <BaseLayout title=\"企业账户\" :subtitle=\"subtitle\" bg=\"linear-gradient(180deg, #EFF, #F9F9F9 10%, #F9F9F9)\" @click-title=\"onTitle\" noback>\n    <template #extra>\n      <van-button icon=\"edit\" :style=\"{width:'110px', borderRadius:'10px 0 0 10px', color: '#000'}\" color=\"#F6F6F6\" v-show=\"authorized\" @click=\"state.popup = true\">账户设置</van-button>\n    </template>\n\n    <div class=\"content\">\n\n      <van-cell title=\"员工\" class=\"card\" center is-link to=\"/team/member\">\n        <template #icon><van-icon class=\"icon\" name=\"friends\" color=\"#69F\" size=\"32\"/></template>\n        <span class=\"value\"><!-- 0 个分组<br> -->{{state.summary.member}} 名员工</span>\n      </van-cell>\n\n      <van-cell title=\"账单\" class=\"card\" center is-link to=\"/team/property\">\n        <template #icon><van-icon class=\"icon\" name=\"balance-list\" color=\"#F9F\" size=\"32\"/></template>\n        <span class=\"value\">累计充值 {{state.summary.cash}} 元<br>剩余积分 {{state.summary.point}} 分</span>\n      </van-cell>\n\n      <van-cell title=\"发票\" class=\"card\" center is-link to=\"/team/invoice\">\n        <template #icon><van-icon class=\"icon\" name=\"coupon\" color=\"#6CC\" size=\"32\"/></template>\n        <span class=\"value\">已开发票 {{state.summary.invoice}} 元<br>待开发票 {{state.summary.cash - state.summary.invoice}} 元</span>\n      </van-cell>\n\n      <van-cell title=\"礼品卡\" class=\"card\" center is-link to=\"/team/card\">\n        <template #icon><van-icon class=\"icon\" name=\"gift-card\" color=\"#CC3\" size=\"32\"/></template>\n        <span class=\"value\">共 {{state.summary.card.total}} 张<br>合计 {{state.summary.card.amount}} 元</span>\n      </van-cell>\n\n    </div>\n\n    <van-action-sheet v-model:show=\"state.popup\" :title=\"state.summary.info.name\">\n      <van-field v-for=\"(item,key) in state.profile\" :key=\"key\" :label=\"item.name\" v-model=\"state.profile[key].value\" :type=\"state.profile[key].type\" clickable clearable autosize :input-align=\"state.profile[key].type == 'textarea' ? 'left':'right'\" :right-icon=\"state.profile[key].icon\" @click-input=\"state.profile[key].icon='edit'\" @blur=\"onChange(key)\"></van-field>\n    </van-action-sheet>\n\n  </BaseLayout>\n</template>\n\n<style scoped>\n\n.content {\n  margin: 10px;\n}\n\n.toolbar {\n  margin: 20px 0px;\n  font-size: 14px;\n}\n\n.card {\n  height: 90px;\n  margin-top: 5px;\n  background: #FFF;\n  border-radius: 5px;\n  color: #666;\n  font-size: 18px;\n  font-weight: 600;\n}\n.icon {\n  margin-right: 10px;\n}\n.value {\n  font-size: 12px;\n  font-weight: 400;\n}\n\n.menu {\n  margin: 20px 0;\n}\n.item {\n  color: #666;\n}\n</style>\n\n<script>\nimport {reactive} from 'vue'\nimport {mapState, mapGetters, mapMutations} from 'vuex'\nimport BaseLayout from '@/components/BaseLayout.vue'\n\nexport default {\n  components: {BaseLayout},\n\n  data() {\n    const state = reactive({\n      summary: {\n        info: {},\n        cash: 0,\n        point: 0,\n        member: 0,\n        card: 0,\n        invoice: 0,\n      },\n      \n      popup: false,\n      profile: {\n        linkman: {\n          name: \"联系人姓名\",\n          icon: \"arrow\",\n          type: \"text\",\n          value: \"\",\n        },\n        mobile: {\n          name: \"联系人手机\",\n          icon: \"arrow\",\n          type: \"mobile\",\n          value: \"\",\n        },\n        wechat: {\n          name: \"联系人微信\",\n          icon: \"arrow\",\n          type: \"text\",\n          value: \"\",\n        },\n        intro: {\n          name: \"团队介绍\",\n          icon: \"arrow\",\n          type: \"textarea\",\n          value: \"\",\n        },\n        invoice: {\n          name: \"开票信息\",\n          icon: \"arrow\",\n          type: \"textarea\",\n          value: \"\",\n        },\n      },\n    });\n    return {state};\n  },\n\n  created() {\n    this.onTitle();\n  },\n\n  computed: {\n    subtitle(){\n      return _.isEmpty(this.state.summary.info) ? \"正在查询 ...\": this.state.summary.info.name;\n    },\n    \n    ...mapState([\"profile\"]),\n    ...mapGetters([\"authorized\", \"uid\", \"nickname\", \"cash\", \"point\", \"level\"]),\n  },\n\n  methods: {\n    onTitle() {\n      this.$http.post(\"/team/summary\").then((data) => {\n        this.state.summary = data;\n        for (let key in this.state.profile) {\n          if (typeof data.info[key] != \"undefined\"){\n            this.state.profile[key].value = data.info[key];\n          }\n        }\n      });\n    },\n\n    onChange(field) {\n      this.state.profile[field].icon = \"arrow\";\n      if (this.state.summary.info[field] == this.state.profile[field].value)\n        return;\n\n      let params = {};\n      params[field] = this.state.profile[field].value;\n      this.$http.post(\"/team/modify\", params).then(() => {\n        this.onTitle();\n      }).catch(() => {\n        this.state.profile[field].icon = \"edit\";\n      });\n    },\n\n    ...mapMutations([\"auth\"]),\n  }\n}\n</script>\n","import { render } from \"./Index.vue?vue&type=template&id=5f83a6f2&scoped=true\"\nimport script from \"./Index.vue?vue&type=script&lang=js\"\nexport * from \"./Index.vue?vue&type=script&lang=js\"\n\nimport \"./Index.vue?vue&type=style&index=0&id=5f83a6f2&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/fuli/fuli/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5f83a6f2\"]])\n\nexport default __exports__"],"sourceRoot":""}