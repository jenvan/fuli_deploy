(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b113688a"],{"2efe":function(t,e,n){"use strict";var a=n("7a23"),c=Object(a["V"])("data-v-58a92998");Object(a["C"])("data-v-58a92998");var o={class:"title"},i={class:"label"};Object(a["A"])();var r=c((function(t,e,n,r,l,s){var u=Object(a["H"])("van-icon"),d=Object(a["H"])("van-cell"),b=Object(a["H"])("van-row");return Object(a["z"])(),Object(a["g"])("div",{class:"block",style:{background:n.bg,color:n.fg}},[Object(a["j"])(d,{center:"",onClick:e[1]||(e[1]=function(e){return t.$emit("click")})},{title:c((function(){return[Object(a["j"])("div",o,Object(a["L"])(n.title),1)]})),label:c((function(){return[Object(a["j"])("div",i,Object(a["L"])(n.subtitle),1)]})),icon:c((function(){return[Object(a["j"])(u,{class:"icon",name:n.icon||"gem-o"},null,8,["name"])]})),extra:c((function(){return[Object(a["G"])(t.$slots,"more",{},(function(){return[Object(a["j"])(u,{name:"arrow-down"})]}),{},!0)]})),_:1}),Object(a["j"])(b,{class:"content",align:"center",justify:"space-around"},{default:c((function(){return[Object(a["G"])(t.$slots,"default",{},void 0,!0)]})),_:3})],4)})),l={props:{title:{type:String,default:""},subtitle:{type:String,default:""},fg:{type:String,default:"#666"},bg:{type:String,default:"#FFF"},icon:{type:String,default:"gem-o"}}},s=(n("517d"),n("6b0d")),u=n.n(s);const d=u()(l,[["render",r],["__scopeId","data-v-58a92998"]]);e["a"]=d},"517d":function(t,e,n){"use strict";n("6760")},6760:function(t,e,n){},a15b:function(t,e,n){"use strict";var a=n("23e7"),c=n("44ad"),o=n("fc6a"),i=n("a640"),r=[].join,l=c!=Object,s=i("join",",");a({target:"Array",proto:!0,forced:l||!s},{join:function(t){return r.call(o(this),void 0===t?",":t)}})},a497:function(t,e,n){},ae0e:function(t,e,n){"use strict";n.r(e);n("b0c0");var a=n("7a23"),c=Object(a["V"])("data-v-73bdd9ef");Object(a["C"])("data-v-73bdd9ef");var o={class:"box"},i=Object(a["i"])("刷新"),r={class:"body"},l=Object(a["j"])("div",{class:"remark"},"付款码定时刷新，截图无效",-1),s={class:"box"},u=Object(a["i"])("收款设置"),d={class:"name"},b=Object(a["j"])("div",{class:"remark"},"长按收款码可以保存到手机、转发给朋友",-1),j={class:"filter"},f=Object(a["j"])("div",{class:"dt"},"按日期筛选",-1),O={class:"type"},p={class:"list"},h={class:"amount"},v=Object(a["j"])("span",{class:"symbol"},"￥",-1),m=Object(a["j"])("div",{class:"title"},"收款设置",-1),g={class:"body"},y=Object(a["j"])("div",{class:"remark"},"受微信官方付款到零钱额度限制，每个账户超过以上限额规则的收款将自动支付到福鲤社账户余额中，可随时申请提现。",-1),w=Object(a["i"])("已选");Object(a["A"])();var k=c((function(t,e,n,k,C,_){var H=Object(a["H"])("van-tab"),S=Object(a["H"])("van-tabs"),$=Object(a["H"])("van-button"),q=Object(a["H"])("van-code"),x=Object(a["H"])("block"),L=Object(a["H"])("van-icon"),F=Object(a["H"])("van-switch"),V=Object(a["H"])("van-cell"),z=Object(a["H"])("van-calendar"),D=Object(a["H"])("van-field"),U=Object(a["H"])("van-popup"),A=Object(a["H"])("van-tag"),R=Object(a["H"])("van-action-sheet"),B=Object(a["H"])("BaseLayout");return Object(a["z"])(),Object(a["g"])(B,{bg:"#F66",fg:"#FFF",height:"0"},{title:c((function(){return[Object(a["j"])(S,{class:"tab",type:"card",active:C.action,"onUpdate:active":e[1]||(e[1]=function(t){return C.action=t}),onChange:_.handleRefresh},{default:c((function(){return[Object(a["j"])(H,{name:"out",title:"付款"}),Object(a["j"])(H,{name:"in",title:"收款"})]})),_:1},8,["active","onChange"])]})),more:c((function(){return[]})),default:c((function(){return[Object(a["S"])(Object(a["j"])("div",o,[Object(a["j"])(x,{title:"我的付款码",icon:"qr"},{more:c((function(){return[Object(a["j"])($,{class:"btn",type:"primary",size:"small",plain:"",onClick:_.handleRefresh},{default:c((function(){return[i]})),_:1},8,["onClick"])]})),default:c((function(){return[Object(a["j"])("div",r,[Object(a["j"])(q,{type:"barcode",value:C.code},null,8,["value"]),Object(a["j"])(q,{type:"qrcode",value:_.qrcode1},null,8,["value"]),l])]})),_:1})],512),[[a["O"],"out"==C.action]]),Object(a["S"])(Object(a["j"])("div",s,[Object(a["j"])(x,{title:"我的收款码",icon:"qr"},{more:c((function(){return[Object(a["j"])($,{class:"btn",type:"primary",size:"small",plain:"",onClick:e[2]||(e[2]=function(t){return C.state.popup=!0})},{default:c((function(){return[u]})),_:1})]})),default:c((function(){return[Object(a["j"])("div",d,Object(a["L"])(t.nickname),1),Object(a["j"])(q,{type:"qrimage",value:_.qrcode2},null,8,["value"]),b]})),_:1}),Object(a["j"])(x,{title:"收款记录",icon:"cashier-o",onClick:_.init},{more:c((function(){return[Object(a["j"])(L,{name:"replay"})]})),default:c((function(){return[Object(a["j"])("div",j,[Object(a["j"])(V,{icon:"calendar-o",label:_.format(C.date),onClick:e[4]||(e[4]=Object(a["U"])((function(t){return C.state.calendar=!0}),["stop"]))},{title:c((function(){return[f]})),value:c((function(){return[Object(a["j"])(F,{modelValue:C.state.type,"onUpdate:modelValue":e[3]||(e[3]=function(t){return C.state.type=t}),size:"14"},null,8,["modelValue"]),Object(a["j"])("div",O,Object(a["L"])(C.state.type?"单":"多")+"日",1)]})),_:1},8,["label"]),Object(a["j"])(V,{icon:"chart-trending-o"},{title:c((function(){return[Object(a["i"])("共收款 "+Object(a["L"])(C.state.total)+" 笔，合计 "+Object(a["L"])(C.state.amount)+" 元",1)]})),_:1})]),Object(a["j"])("div",p,[(Object(a["z"])(!0),Object(a["g"])(a["a"],null,Object(a["F"])(C.state.list,(function(e,n){return Object(a["z"])(),Object(a["g"])(V,{key:n,title:e.dt,label:e.remark,onClick:function(n){return t.$copy(e.remark)}},{value:c((function(){return[Object(a["j"])("div",h,[v,Object(a["i"])(Object(a["L"])(e.amount),1)])]})),_:2},1032,["title","label","onClick"])})),128))])]})),_:1},8,["onClick"]),Object(a["j"])(z,{show:C.state.calendar,"onUpdate:show":e[5]||(e[5]=function(t){return C.state.calendar=t}),type:C.state.type?"single":"range","max-range":31,"min-date":new Date("2022-01-01"),"max-date":new Date,"default-date":C.date,"show-confirm":!1,onConfirm:e[6]||(e[6]=function(t){return C.date=t})},null,8,["show","type","min-date","max-date","default-date"]),Object(a["j"])(U,{show:C.state.popup,"onUpdate:show":e[10]||(e[10]=function(t){return C.state.popup=t}),position:"bottom","close-on-popstate":!0,round:"",closeable:""},{default:c((function(){return[m,Object(a["j"])("div",g,[Object(a["j"])(L,{name:t.profile.avatar,size:64,onClick:e[7]||(e[7]=function(e){return t.$router.push("/my/profile")})},null,8,["name"]),Object(a["j"])(D,{modelValue:C.state.name,"onUpdate:modelValue":e[8]||(e[8]=function(t){return C.state.name=t}),type:"text","input-align":"center",onChange:_.handleChange},null,8,["modelValue","onChange"]),Object(a["j"])(V,{title:"收款至：",value:C.state.openid?"微信零钱":"福鲤社余额","is-link":"",onClick:e[9]||(e[9]=function(t){return C.state.sheet=!0})},null,8,["value"]),Object(a["j"])(V,{title:"手续费：",value:C.state.config.rate+" %"},null,8,["value"]),Object(a["j"])(V,{title:"每日微信收款最大额度：",value:C.state.config.amount+" 元"},null,8,["value"]),Object(a["j"])(V,{title:"每日微信收款最多次数：",value:C.state.config.total+" 次"},null,8,["value"]),y])]})),_:1},8,["show"]),Object(a["j"])(R,{show:C.state.sheet,"onUpdate:show":e[11]||(e[11]=function(t){return C.state.sheet=t}),description:"付款至本账号绑定的微信钱包",actions:C.state.bind,"cancel-text":"付款至本账号的余额","close-on-click-action":"",onSelect:_.handleSwitch,onCancel:_.handleSwitch},{action:c((function(t){return[Object(a["j"])("div",{class:{action:!0,active:C.state.openid==C.state.bind[t.index].openid}},[Object(a["j"])(L,{name:t.action.subname||"manager"},null,8,["name"]),Object(a["i"])(" "+Object(a["L"])(t.action.name)+" ",1),Object(a["S"])(Object(a["j"])(A,{class:"tag",type:"danger",round:""},{default:c((function(){return[w]})),_:2},1536),[[a["O"],C.state.openid==C.state.bind[t.index].openid]])],2)]})),_:1},8,["show","actions","onSelect","onCancel"])],512),[[a["O"],"in"==C.action]])]})),_:1})})),C=n("d4ab"),_=(n("c8f5"),n("6b0d")),H=n.n(_);const S=H()(C["a"],[["render",k],["__scopeId","data-v-73bdd9ef"]]);e["default"]=S},c8f5:function(t,e,n){"use strict";n("a497")},d4ab:function(t,e,n){"use strict";(function(t){var a=n("53ca"),c=n("5530"),o=(n("b0c0"),n("a15b"),n("d81d"),n("7a23")),i=n("5502"),r=n("2824"),l=n("2efe"),s=n("6c74");e["a"]={components:{BaseLayout:r["a"],Block:l["a"],VanCode:s["a"]},data:function(){var t=Object(o["E"])("out"),e=Object(o["E"])(""),n=Object(o["E"])(new Date),a=Object(o["D"])({calendar:!1,type:!0,list:[],total:0,amount:0,popup:!1,name:"",code:"",config:"",sheet:!1,bind:[],openid:""});return{action:t,code:e,date:n,state:a}},created:function(){var t=this;for(var e in this.profile.bind){var n=this.profile.bind[e];this.state.bind.push({openid:n["openid"],name:n["nickname"],subname:n["avatar"]})}this.$http.post("/o2o/config").then((function(e){t.state.code=e.code,t.state.config=e.config,t.state.openid=e.config.openid,console.error("收款码：",t.qrcode2)})),this.init(),this.handleRefresh()},computed:Object(c["a"])(Object(c["a"])({qrcode1:function(){return window.location.protocol+"//"+window.location.host+"/#/o2o/pay?code="+this.code},qrcode2:function(){return window.location.protocol+"//"+window.location.host+"/#/o2o/pay?code="+this.state.code}},Object(i["d"])(["profile"])),Object(i["b"])(["uid","nickname"])),watch:{date:function(){this.state.calendar=!1,this.init()}},methods:Object(c["a"])({init:function(){var t=this;this.state.name=this.nickname,this.$http.post("/o2o/list?dt="+this.format(this.date)).then((function(e){t.state.total=e.total,t.state.amount=e.amount,t.state.list=e.list}))},format:function(e){if(t.isArray(e))return t.map(e,this.format).join(" ~ ");var n="object"==Object(a["a"])(e)?new Date(e):new Date,c=n.getFullYear(),o=""+(n.getMonth()+1),i=""+n.getDate();return o.length<2&&(o="0"+o),i.length<2&&(i="0"+i),[c,o,i].join("-")},handleChange:function(){var t=this;this.$http.post("/user/modify",{nickname:this.state.name}).then((function(){t.$init(t.init)}))},handleSwitch:function(t,e){var n=this,a={realtime:1};"undefined"==typeof t?(this.state.openid="",a["realtime"]=0):(this.state.openid=this.profile.bind[e]["openid"],a["openid"]=this.state.openid),this.$http.post("/o2o/config",a).then((function(){n.$toast("设置成功")}))},handleRefresh:function(){var t=this;this.$http.get("/o2o/scanpay?action=code").then((function(e){t.code=e.code,console.warn("付款码：",t.qrcode1)}))}},Object(i["c"])(["auth"]))}}).call(this,n("81b0"))},d81d:function(t,e,n){"use strict";var a=n("23e7"),c=n("b727").map,o=n("1dde"),i=o("map");a({target:"Array",proto:!0,forced:!i},{map:function(t){return c(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);