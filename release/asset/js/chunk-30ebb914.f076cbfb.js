(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-30ebb914"],{"1f6d":function(t,e,n){},"2efe":function(t,e,n){"use strict";var a=n("7a23"),c=Object(a["S"])("data-v-58a92998");Object(a["B"])("data-v-58a92998");var o={class:"title"},i={class:"label"};Object(a["z"])();var r=c((function(t,e,n,r,l,u){var s=Object(a["G"])("van-icon"),d=Object(a["G"])("van-cell"),b=Object(a["G"])("van-row");return Object(a["y"])(),Object(a["g"])("div",{class:"block",style:{background:n.bg,color:n.fg}},[Object(a["j"])(d,{center:"",onClick:e[1]||(e[1]=function(e){return t.$emit("click")})},{title:c((function(){return[Object(a["j"])("div",o,Object(a["K"])(n.title),1)]})),label:c((function(){return[Object(a["j"])("div",i,Object(a["K"])(n.subtitle),1)]})),icon:c((function(){return[Object(a["j"])(s,{class:"icon",name:n.icon||"gem-o"},null,8,["name"])]})),extra:c((function(){return[Object(a["F"])(t.$slots,"more",{},(function(){return[Object(a["j"])(s,{name:"arrow-down"})]}),{},!0)]})),_:1}),Object(a["j"])(b,{class:"content",align:"center",justify:"space-around"},{default:c((function(){return[Object(a["F"])(t.$slots,"default",{},void 0,!0)]})),_:3})],4)})),l={props:{title:{type:String,default:""},subtitle:{type:String,default:""},fg:{type:String,default:"#666"},bg:{type:String,default:"#FFF"},icon:{type:String,default:"gem-o"}}},u=(n("517d"),n("6b0d")),s=n.n(u);const d=s()(l,[["render",r],["__scopeId","data-v-58a92998"]]);e["a"]=d},"517d":function(t,e,n){"use strict";n("6760")},6760:function(t,e,n){},"7b46":function(t,e,n){"use strict";n("1f6d")},a15b:function(t,e,n){"use strict";var a=n("23e7"),c=n("44ad"),o=n("fc6a"),i=n("a640"),r=[].join,l=c!=Object,u=i("join",",");a({target:"Array",proto:!0,forced:l||!u},{join:function(t){return r.call(o(this),void 0===t?",":t)}})},ae0e:function(t,e,n){"use strict";n.r(e);n("b0c0");var a=n("7a23"),c=Object(a["S"])("data-v-f30fee86");Object(a["B"])("data-v-f30fee86");var o={class:"box"},i=Object(a["i"])("收款设置"),r={class:"name"},l=Object(a["j"])("div",{class:"remark"},"长按收款码可以保存到手机、转发给朋友",-1),u={class:"filter"},s=Object(a["j"])("div",{class:"dt"},"按日期筛选",-1),d={class:"type"},b={class:"list"},j={class:"amount"},f=Object(a["j"])("span",{class:"symbol"},"￥",-1),O=Object(a["j"])("div",{class:"title"},"收款设置",-1),p={class:"body"};Object(a["z"])();var m=c((function(t,e,n,m,v,h){var g=Object(a["G"])("van-button"),y=Object(a["G"])("van-image"),w=Object(a["G"])("block"),k=Object(a["G"])("van-icon"),C=Object(a["G"])("van-switch"),_=Object(a["G"])("van-cell"),G=Object(a["G"])("van-calendar"),F=Object(a["G"])("van-field"),V=Object(a["G"])("van-popup"),$=Object(a["G"])("BaseLayout");return Object(a["y"])(),Object(a["g"])($,{title:"收款",bg:"#F66",fg:"#FFF",height:"0"},{default:c((function(){return[Object(a["j"])("div",o,[Object(a["j"])(w,{title:"我的收款码",icon:"qr"},{more:c((function(){return[Object(a["j"])(g,{class:"btn",type:"primary",size:"small",plain:"",onClick:e[1]||(e[1]=function(t){return v.state.popup=!0})},{default:c((function(){return[i]})),_:1})]})),default:c((function(){return[Object(a["j"])("div",r,Object(a["K"])(t.nickname),1),Object(a["j"])(y,{src:"https://api.qrserver.com/v1/create-qr-code/?size=250x250&margin=10&ecc=H&data="+encodeURIComponent(h.qrcode),width:"250",height:"250",radius:"10",onClick:e[2]||(e[2]=function(e){return t.$copy(h.qrcode)})},null,8,["src"]),l]})),_:1}),Object(a["j"])(w,{title:"收款记录",icon:"cashier-o",onClick:h.init},{more:c((function(){return[Object(a["j"])(k,{name:"replay"})]})),default:c((function(){return[Object(a["j"])("div",u,[Object(a["j"])(_,{icon:"calendar-o",label:h.format(v.date),onClick:e[4]||(e[4]=Object(a["R"])((function(t){return v.state.calendar=!0}),["stop"]))},{title:c((function(){return[s]})),value:c((function(){return[Object(a["j"])(C,{modelValue:v.state.type,"onUpdate:modelValue":e[3]||(e[3]=function(t){return v.state.type=t}),size:"14"},null,8,["modelValue"]),Object(a["j"])("div",d,Object(a["K"])(v.state.type?"单":"多")+"日",1)]})),_:1},8,["label"]),Object(a["j"])(_,{icon:"chart-trending-o"},{title:c((function(){return[Object(a["i"])("共收款 "+Object(a["K"])(v.state.total)+" 笔，合计 "+Object(a["K"])(v.state.amount)+" 元",1)]})),_:1})]),Object(a["j"])("div",b,[(Object(a["y"])(!0),Object(a["g"])(a["a"],null,Object(a["E"])(v.state.list,(function(e,n){return Object(a["y"])(),Object(a["g"])(_,{key:n,title:e.dt,label:e.remark,onClick:function(n){return t.$copy(e.remark)}},{value:c((function(){return[Object(a["j"])("div",j,[f,Object(a["i"])(Object(a["K"])(e.amount),1)])]})),_:2},1032,["title","label","onClick"])})),128))])]})),_:1},8,["onClick"]),Object(a["j"])(G,{show:v.state.calendar,"onUpdate:show":e[5]||(e[5]=function(t){return v.state.calendar=t}),type:v.state.type?"single":"range","max-range":31,"min-date":new Date("2022-01-01"),"max-date":new Date,"default-date":v.date,"show-confirm":!1,onConfirm:e[6]||(e[6]=function(t){return v.date=t})},null,8,["show","type","min-date","max-date","default-date"]),Object(a["j"])(V,{show:v.state.popup,"onUpdate:show":e[9]||(e[9]=function(t){return v.state.popup=t}),position:"bottom","close-on-popstate":!0,round:"",closeable:""},{default:c((function(){return[O,Object(a["j"])("div",p,[Object(a["j"])(F,{modelValue:v.state.name,"onUpdate:modelValue":e[7]||(e[7]=function(t){return v.state.name=t}),type:"text",label:"商户名称：","input-align":"right",onChange:h.handleChange},null,8,["modelValue","onChange"]),Object(a["j"])(_,{title:"划拨至"+(v.state.config.real?"微信零钱":"福鲤社余额")+"："},{default:c((function(){return[Object(a["j"])(C,{modelValue:v.state.config.real,"onUpdate:modelValue":e[8]||(e[8]=function(t){return v.state.config.real=t}),size:"24"},null,8,["modelValue"])]})),_:1},8,["title"]),Object(a["j"])(_,{title:"手续费：",value:v.state.config.rate+" %"},null,8,["value"]),Object(a["j"])(_,{title:"每日收款最大额度：",value:v.state.config.amount+" 元"},null,8,["value"]),Object(a["j"])(_,{title:"每日收款最多次数：",value:v.state.config.total+" 次"},null,8,["value"])])]})),_:1},8,["show"])])]})),_:1})})),v=n("d4ab"),h=(n("7b46"),n("6b0d")),g=n.n(h);const y=g()(v["a"],[["render",m],["__scopeId","data-v-f30fee86"]]);e["default"]=y},d4ab:function(t,e,n){"use strict";(function(t){var a=n("53ca"),c=n("5530"),o=(n("b0c0"),n("a15b"),n("d81d"),n("7a23")),i=n("5502"),r=n("2824"),l=n("2efe");e["a"]={components:{BaseLayout:r["a"],Block:l["a"]},data:function(){var t=Object(o["D"])(new Date),e=Object(o["C"])({calendar:!1,type:!0,list:[],total:0,amount:0,popup:!1,name:"",code:"",config:""});return{date:t,state:e}},created:function(){var t=this;this.state.name=this.nickname,this.$http.post("o2o/config").then((function(e){t.state.code=e.code,t.state.config=e.config})),this.init()},computed:Object(c["a"])(Object(c["a"])({qrcode:function(){return window.location.protocol+"//"+window.location.host+"/#/o2o/pay?code="+this.state.code}},Object(i["d"])(["profile"])),Object(i["b"])(["uid","nickname"])),watch:{date:function(){this.state.calendar=!1,this.init()}},methods:Object(c["a"])({init:function(){var t=this;this.$http.post("o2o/list?dt="+this.format(this.date)).then((function(e){t.state.total=e.total,t.state.amount=e.amount,t.state.list=e.list}))},format:function(e){if(t.isArray(e))return t.map(e,this.format).join(" ~ ");var n="object"==Object(a["a"])(e)?new Date(e):new Date,c=n.getFullYear(),o=""+(n.getMonth()+1),i=""+n.getDate();return o.length<2&&(o="0"+o),i.length<2&&(i="0"+i),[c,o,i].join("-")},handleChange:function(){var t=this;this.$http.post("/user/modify",{nickname:this.state.name}).then((function(){t.$init()}))}},Object(i["c"])(["auth"]))}}).call(this,n("81b0"))},d81d:function(t,e,n){"use strict";var a=n("23e7"),c=n("b727").map,o=n("1dde"),i=o("map");a({target:"Array",proto:!0,forced:!i},{map:function(t){return c(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);